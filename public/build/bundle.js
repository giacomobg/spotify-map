var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function i(t){return"function"==typeof t}function o(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(n,...e){if(null==n)return t;const r=n.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function u(t,n,e){t.$$.on_destroy.push(a(n,e))}function s(t,n,e,r){if(t){const i=c(t,n,e,r);return t[0](i)}}function c(t,n,e,r){return t[1]&&r?function(t,n){for(const e in n)t[e]=n[e];return t}(e.ctx.slice(),t[1](r(n))):e.ctx}function l(t,n,e,r){if(t[2]&&r){const i=t[2](r(e));if(void 0===n.dirty)return i;if("object"==typeof i){const t=[],e=Math.max(n.dirty.length,i.length);for(let r=0;r<e;r+=1)t[r]=n.dirty[r]|i[r];return t}return n.dirty|i}return n.dirty}function f(t,n,e,r,i,o){if(i){const a=c(n,e,r,o);t.p(a,i)}}function h(t){if(t.ctx.length>32){const n=[],e=t.ctx.length/32;for(let t=0;t<e;t++)n[t]=-1;return n}return-1}function d(t,n){t.appendChild(n)}function g(t,n,e){t.insertBefore(n,e||null)}function p(t){t.parentNode.removeChild(t)}function y(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function m(t){return document.createElement(t)}function v(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function w(){return x(" ")}function $(){return x("")}function b(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function M(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function k(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}let N,_;function A(){if(void 0===N){N=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){N=!0}}return N}function z(t,n,e){t.classList[e?"add":"remove"](n)}function S(t){_=t}function R(){if(!_)throw new Error("Function called outside component initialization");return _}function D(t){return R().$$.context.get(t)}const E=[],C=[],T=[],j=[],q=Promise.resolve();let B=!1;function P(t){T.push(t)}function L(t){j.push(t)}let O=!1;const H=new Set;function I(){if(!O){O=!0;do{for(let t=0;t<E.length;t+=1){const n=E[t];S(n),K(n.$$)}for(S(null),E.length=0;C.length;)C.pop()();for(let t=0;t<T.length;t+=1){const n=T[t];H.has(n)||(H.add(n),n())}T.length=0}while(E.length);for(;j.length;)j.pop()();B=!1,O=!1,H.clear()}}function K(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(P)}}const W=new Set;let F;function U(){F={r:0,c:[],p:F}}function G(){F.r||r(F.c),F=F.p}function Y(t,n){t&&t.i&&(W.delete(t),t.i(n))}function X(t,n,e,r){if(t&&t.o){if(W.has(t))return;W.add(t),F.c.push((()=>{W.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}function J(t,n,e){const r=t.$$.props[n];void 0!==r&&(t.$$.bound[r]=e,e(t.$$.ctx[r]))}function Z(t){t&&t.c()}function V(t,e,o,a){const{fragment:u,on_mount:s,on_destroy:c,after_update:l}=t.$$;u&&u.m(e,o),a||P((()=>{const e=s.map(n).filter(i);c?c.push(...e):r(e),t.$$.on_mount=[]})),l.forEach(P)}function Q(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function tt(t,n){-1===t.$$.dirty[0]&&(E.push(t),B||(B=!0,q.then(I)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function nt(n,i,o,a,u,s,c,l=[-1]){const f=_;S(n);const h=n.$$={fragment:null,ctx:null,props:s,update:t,not_equal:u,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:i.context||[]),callbacks:e(),dirty:l,skip_bound:!1,root:i.target||f.$$.root};c&&c(h.root);let d=!1;if(h.ctx=o?o(n,i.props||{},((t,e,...r)=>{const i=r.length?r[0]:e;return h.ctx&&u(h.ctx[t],h.ctx[t]=i)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](i),d&&tt(n,t)),e})):[],h.update(),d=!0,r(h.before_update),h.fragment=!!a&&a(h.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);h.fragment&&h.fragment.l(t),t.forEach(p)}else h.fragment&&h.fragment.c();i.intro&&Y(n.$$.fragment),V(n,i.target,i.anchor,i.customElement),I()}S(f)}class et{$destroy(){Q(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var rt={},it={};function ot(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function at(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function ut(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function st(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+ut(-n,6):n>9999?"+"+ut(n,6):ut(n,4))+"-"+ut(t.getUTCMonth()+1,2)+"-"+ut(t.getUTCDate(),2)+(o?"T"+ut(e,2)+":"+ut(r,2)+":"+ut(i,2)+"."+ut(o,3)+"Z":i?"T"+ut(e,2)+":"+ut(r,2)+":"+ut(i,2)+"Z":r||e?"T"+ut(e,2)+":"+ut(r,2)+"Z":"")}var ct=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,u=0,s=o<=0,c=!1;function l(){if(s)return it;if(c)return c=!1,rt;var n,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(n=a)>=o?s=!0:10===(r=t.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(n=a++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(a)&&++a;else if(r!==e)continue;return t.slice(i,n)}return s=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=l())!==it;){for(var f=[];r!==rt&&r!==it;)f.push(r),r=l();n&&null==(f=n(f,u++))||i.push(f)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return a(n[t])})).join(t)}))}function o(n){return n.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?st(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=ot(t);return function(r,i){return n(e(r),i,t)}}(t,n):ot(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=at(n)),[e.map(a).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=at(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(","),lt=ct.parse;function ft(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function ht(t){return(t=ft(Math.abs(t)))?t[1]:NaN}var dt,gt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pt(t){if(!(n=gt.exec(t)))throw new Error("invalid format: "+t);var n;return new yt({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function yt(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function mt(t,n){var e=ft(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}pt.prototype=yt.prototype,yt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var vt={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>mt(100*t,n),r:mt,s:function(t,n){var e=ft(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(dt=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ft(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xt(t){return t}var wt,$t,bt,Mt=Array.prototype.map,kt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Nt(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?xt:(n=Mt.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?xt:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Mt.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=pt(t)).fill,e=t.align,f=t.sign,h=t.symbol,d=t.zero,g=t.width,p=t.comma,y=t.precision,m=t.trim,v=t.type;"n"===v?(p=!0,v="g"):vt[v]||(void 0===y&&(y=12),m=!0,v="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var x="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===h?o:/[%p]/.test(v)?s:"",$=vt[v],b=/[defgprs%]/.test(v);function M(t){var i,o,s,h=x,M=w;if("c"===v)M=$(t)+M,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:$(Math.abs(t),y),m&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),h=(k?"("===f?f:c:"-"===f||"("===f?"":f)+h,M=("s"===v?kt[8+dt/3]:"")+M+(k&&"("===f?")":""),b)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){M=(46===s?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}p&&!d&&(t=r(t,1/0));var N=h.length+t.length+M.length,_=N<g?new Array(g-N+1).join(n):"";switch(p&&d&&(t=r(_+t,_.length?g-M.length:1/0),_=""),e){case"<":t=h+t+M+_;break;case"=":t=h+_+t+M;break;case"^":t=_.slice(0,N=_.length>>1)+h+t+M+_.slice(N);break;default:t=_+h+t+M}return u(t)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,n){var e=f(((t=pt(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ht(n)/3))),i=Math.pow(10,-r),o=kt[8+r/3];return function(t){return e(i*t)+o}}}}function _t(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function At(t){let n=t,e=t;function r(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r}return 1===t.length&&(n=(n,e)=>t(n)-e,e=function(t){return(n,e)=>_t(t(n),e)}(t)),{left:r,center:function(t,e,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=r(t,e,i,o-1);return a>i&&n(t[a-1],e)>-n(t[a],e)?a-1:a},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}wt=Nt({thousands:",",grouping:[3],currency:["$",""]}),$t=wt.format,bt=wt.formatPrefix;const zt=At(_t).right;At((function(t){return null===t?NaN:+t})).center;var St=zt,Rt=Math.sqrt(50),Dt=Math.sqrt(10),Et=Math.sqrt(2);function Ct(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Rt?10:o>=Dt?5:o>=Et?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Rt?10:o>=Dt?5:o>=Et?2:1)}function Tt(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}const jt=Symbol("implicit");function qt(){var t=new Map,n=[],e=[],r=jt;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==jt)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new Map;for(const r of e){const e=r+"";t.has(e)||t.set(e,n.push(r))}return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return qt(n,e).unknown(r)},Tt.apply(i,arguments),i}function Bt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Pt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Lt(){}var Ot=.7,Ht=1/Ot,It="\\s*([+-]?\\d+)\\s*",Kt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ft=/^#([0-9a-f]{3,8})$/,Ut=new RegExp("^rgb\\("+[It,It,It]+"\\)$"),Gt=new RegExp("^rgb\\("+[Wt,Wt,Wt]+"\\)$"),Yt=new RegExp("^rgba\\("+[It,It,It,Kt]+"\\)$"),Xt=new RegExp("^rgba\\("+[Wt,Wt,Wt,Kt]+"\\)$"),Jt=new RegExp("^hsl\\("+[Kt,Wt,Wt]+"\\)$"),Zt=new RegExp("^hsla\\("+[Kt,Wt,Wt,Kt]+"\\)$"),Vt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Qt(){return this.rgb().formatHex()}function tn(){return this.rgb().formatRgb()}function nn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Ft.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?en(n):3===e?new un(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?rn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?rn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Ut.exec(t))?new un(n[1],n[2],n[3],1):(n=Gt.exec(t))?new un(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Yt.exec(t))?rn(n[1],n[2],n[3],n[4]):(n=Xt.exec(t))?rn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Jt.exec(t))?fn(n[1],n[2]/100,n[3]/100,1):(n=Zt.exec(t))?fn(n[1],n[2]/100,n[3]/100,n[4]):Vt.hasOwnProperty(t)?en(Vt[t]):"transparent"===t?new un(NaN,NaN,NaN,0):null}function en(t){return new un(t>>16&255,t>>8&255,255&t,1)}function rn(t,n,e,r){return r<=0&&(t=n=e=NaN),new un(t,n,e,r)}function on(t){return t instanceof Lt||(t=nn(t)),t?new un((t=t.rgb()).r,t.g,t.b,t.opacity):new un}function an(t,n,e,r){return 1===arguments.length?on(t):new un(t,n,e,null==r?1:r)}function un(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function sn(){return"#"+ln(this.r)+ln(this.g)+ln(this.b)}function cn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ln(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function fn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new dn(t,n,e,r)}function hn(t){if(t instanceof dn)return new dn(t.h,t.s,t.l,t.opacity);if(t instanceof Lt||(t=nn(t)),!t)return new dn;if(t instanceof dn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new dn(a,u,s,t.opacity)}function dn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function gn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}Bt(Lt,nn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Qt,formatHex:Qt,formatHsl:function(){return hn(this).formatHsl()},formatRgb:tn,toString:tn}),Bt(un,an,Pt(Lt,{brighter:function(t){return t=null==t?Ht:Math.pow(Ht,t),new un(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Ot:Math.pow(Ot,t),new un(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sn,formatHex:sn,formatRgb:cn,toString:cn})),Bt(dn,(function(t,n,e,r){return 1===arguments.length?hn(t):new dn(t,n,e,null==r?1:r)}),Pt(Lt,{brighter:function(t){return t=null==t?Ht:Math.pow(Ht,t),new dn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Ot:Math.pow(Ot,t),new dn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new un(gn(t>=240?t-240:t+120,i,r),gn(t,i,r),gn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var pn=t=>()=>t;function yn(t){return 1==(t=+t)?mn:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):pn(isNaN(n)?e:n)}}function mn(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):pn(isNaN(t)?n:t)}var vn=function t(n){var e=yn(n);function r(t,n){var r=e((t=an(t)).r,(n=an(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=mn(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function xn(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function wn(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=An(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function $n(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function bn(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Mn(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=An(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var kn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nn=new RegExp(kn.source,"g");function _n(t,n){var e,r,i,o=kn.lastIndex=Nn.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=kn.exec(t))&&(r=Nn.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:bn(e,r)})),o=Nn.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}function An(t,n){var e,r=typeof n;return null==n||"boolean"===r?pn(n):("number"===r?bn:"string"===r?(e=nn(n))?(n=e,vn):_n:n instanceof nn?vn:n instanceof Date?$n:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?xn:Array.isArray(n)?wn:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Mn:bn)(t,n)}function zn(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function Sn(t){return+t}var Rn=[0,1];function Dn(t){return t}function En(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function Cn(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=En(i,r),o=e(a,o)):(r=En(r,i),o=e(o,a)),function(t){return o(r(t))}}function Tn(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=En(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=St(t,n,1,r)-1;return o[e](i[e](n))}}function jn(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function qn(){var t,n,e,r,i,o,a=Rn,u=Rn,s=An,c=Dn;function l(){var t=Math.min(a.length,u.length);return c!==Dn&&(c=function(t,n){var e;return t>n&&(e=t,t=n,n=e),function(e){return Math.max(t,Math.min(n,e))}}(a[0],a[t-1])),r=t>2?Tn:Cn,i=o=null,f}function f(n){return null==n||isNaN(n=+n)?e:(i||(i=r(a.map(t),u,s)))(t(c(n)))}return f.invert=function(e){return c(n((o||(o=r(u,a.map(t),bn)))(e)))},f.domain=function(t){return arguments.length?(a=Array.from(t,Sn),l()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),l()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),s=zn,l()},f.clamp=function(t){return arguments.length?(c=!!t||Dn,l()):c!==Dn},f.interpolate=function(t){return arguments.length?(s=t,l()):s},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,l()}}function Bn(){return qn()(Dn,Dn)}function Pn(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Rt?i*=10:o>=Dt?i*=5:o>=Et&&(i*=2),n<t?-i:i}(t,n,e);switch((r=pt(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ht(n)/3)))-ht(Math.abs(t)))}(o,a))||(r.precision=i),bt(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,ht(n)-ht(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-ht(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return $t(r)}function Ln(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=Ct(t,n,e))||!isFinite(a))return[];if(a>0){let e=Math.round(t/a),r=Math.round(n/a);for(e*a<t&&++e,r*a>n&&--r,o=new Array(i=r-e+1);++u<i;)o[u]=(e+u)*a}else{a=-a;let e=Math.round(t*a),r=Math.round(n*a);for(e/a<t&&++e,r/a>n&&--r,o=new Array(i=r-e+1);++u<i;)o[u]=(e+u)/a}return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Pn(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,u=o.length-1,s=o[a],c=o[u],l=10;for(c<s&&(i=s,s=c,c=i,i=a,a=u,u=i);l-- >0;){if((i=Ct(s,c,e))===r)return o[a]=s,o[u]=c,n(o);if(i>0)s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function On(){var t=Bn();return t.copy=function(){return jn(t,On())},Tt.apply(t,arguments),Ln(t)}function Hn(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function In(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Kn(t){return t<0?-t*t:t*t}function Wn(t){var n=t(Dn,Dn),e=1;function r(){return 1===e?t(Dn,Dn):.5===e?t(In,Kn):t(Hn(e),Hn(1/e))}return n.exponent=function(t){return arguments.length?(e=+t,r()):e},Ln(n)}function Fn(){var t=Wn(qn());return t.copy=function(){return jn(t,Fn()).exponent(t.exponent())},Tt.apply(t,arguments),t}const Un=[];function Gn(n,e=t){let r;const i=new Set;function a(t){if(o(n,t)&&(n=t,r)){const t=!Un.length;for(const t of i)t[1](),Un.push(t,n);if(t){for(let t=0;t<Un.length;t+=2)Un[t][0](Un[t+1]);Un.length=0}}}return{set:a,update:function(t){a(t(n))},subscribe:function(o,u=t){const s=[o,u];return i.add(s),1===i.size&&(r=e(a)||t),o(n),()=>{i.delete(s),0===i.size&&(r(),r=null)}}}}function Yn(n,e,o){const u=!Array.isArray(n),s=u?[n]:n,c=e.length<2;return l=n=>{let o=!1;const l=[];let f=0,h=t;const d=()=>{if(f)return;h();const r=e(u?l[0]:l,n);c?n(r):h=i(r)?r:t},g=s.map(((t,n)=>a(t,(t=>{l[n]=t,f&=~(1<<n),o&&d()}),(()=>{f|=1<<n}))));return o=!0,d(),function(){r(g),h()}},{subscribe:Gn(o,l).subscribe};var l}function Xn(t){return 0===(n=t)||n?Array.isArray(t)?n=>t.map((t=>"function"!=typeof t?n[t]:t(n))):"function"!=typeof t?n=>n[t]:t:null;var n}function Jn(t,n={}){return function(t){const n={};for(const e of t){if(Object(e)!==e)throw new TypeError("iterable for fromEntries should yield objects");const{0:t,1:r}=e;Object.defineProperty(n,t,{configurable:!0,enumerable:!0,writable:!0,value:r})}return n}(Object.entries(t).filter((([t,e])=>void 0!==e&&void 0===n[t])))}function Zn(t,n){if(!Array.isArray(t))throw new TypeError("The first argument of calcExtents() must be an array.");if(Array.isArray(n)||null==n)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const e={},r=Object.keys(n),i=r.length;let o,a,u,s,c,l,f,h;const d=t.length;for(o=0;o<i;o+=1){for(s=r[o],f=n[s],c=null,l=null,a=0;a<d;a+=1)if(h=f(t[a]),Array.isArray(h)){const t=h.length;for(u=0;u<t;u+=1)void 0!==h[u]&&null!==h[u]&&!1===Number.isNaN(h[u])&&((null===c||h[u]<c)&&(c=h[u]),(null===l||h[u]>l)&&(l=h[u]))}else null!=h&&!1===Number.isNaN(h)&&((null===c||h<c)&&(c=h),(null===l||h>l)&&(l=h));e[s]=[c,l]}return e}function Vn(t=[],n){return!0===Array.isArray(n)?n.map(((n,e)=>null===n?t[e]:n)):t}function Qn(t){return function([n,e]){return n?Vn(n[t],e):e}}var te={x:On,y:On,z:On,r:function(){return Fn.apply(null,arguments).exponent(.5)}};function ne(t){return t}function ee(t){return n=>Math.log(t*n)}function re(t){return n=>t*Math.exp(n)}function ie(t){return n=>Math.sign(n)*Math.log1p(Math.abs(n/t))}function oe(t){return n=>Math.sign(n)*Math.expm1(Math.abs(n))*t}function ae(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function ue(t,n){if("function"!=typeof t.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(n))return t.domain();2!==t.domain().length&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",t.domain()),2!==t.range().length&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",t.range());const{lift:e,ground:r}=function(t){const n=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===n){const e=Math.sign(t.domain()[0]);return{lift:ee(e),ground:re(e),scaleType:n}}if("pow"===n){const t=1;return{lift:ae(t),ground:ae(1/t),scaleType:n}}if("sqrt"===n){const t=.5;return{lift:ae(t),ground:ae(1/t),scaleType:n}}if("symlog"===n){const t=1;return{lift:ie(t),ground:oe(t),scaleType:n}}return{lift:ne,ground:ne,scaleType:n}}(t),i=t.domain()[0],o="[object Date]"===Object.prototype.toString.call(i),[a,u]=t.domain().map((t=>e(o?t.getTime():t))),[s,c]=t.range(),l=n[0]||0,f=n[1]||0,h=(u-a)/(Math.abs(c-s)-l-f);return[a-l*h,f*h+u].map((t=>r(o?new Date(t):t)))}function se(t){return function([n,e,r,i,o,a,u,s,c,l]){if(null===e)return null;const f=function(t,n,e,r,i,o){return i?"function"==typeof i?i({width:n,height:e}):i:function(t,n,e,r,i){let o,a;return!0===i?(o=0,a=100):(o="r"===t?1:0,a="y"===t?e:"r"===t?25:n),!0===r?[a,o]:[o,a]}(t,n,e,r,o)}(t,u,s,a,c,l),h=n===te[t]?n():n.copy();return h.domain(Vn(e[t],r)).range(f),i&&h.domain(ue(h,i)),!0===o&&("function"==typeof h.nice?h.nice():console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),h}}function ce([t,n]){return e=>{const r=t(e);return Array.isArray(r)?r.map((t=>n(t))):n(r)}}function le([t]){if("function"==typeof t){if("function"==typeof t.range)return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}var fe={x:!1,y:!0,z:!1,r:!1};const he=t=>({element:4&t[0],width:64&t[0],height:128&t[0],aspectRatio:256&t[0],containerWidth:512&t[0],containerHeight:1024&t[0]}),de=t=>({element:t[2],width:t[6],height:t[7],aspectRatio:t[8],containerWidth:t[9],containerHeight:t[10]});function ge(t){let n,e,r,i;const o=t[54].default,a=s(o,t,t[53],de);return{c(){n=m("div"),a&&a.c(),M(n,"class","layercake-container svelte-vhzpsp"),M(n,"style",e="position:"+t[5]+"; "+("absolute"===t[5]?"top:0;right:0;bottom:0;left:0;":"")+" "+(!1===t[4]?"pointer-events:none;":"")),P((()=>t[56].call(n)))},m(e,o){g(e,n,o),a&&a.m(n,null),t[55](n),r=function(t,n){"static"===getComputedStyle(t).position&&(t.style.position="relative");const e=m("iframe");e.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),e.setAttribute("aria-hidden","true"),e.tabIndex=-1;const r=A();let i;return r?(e.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=b(window,"message",(t=>{t.source===e.contentWindow&&n()}))):(e.src="about:blank",e.onload=()=>{i=b(e.contentWindow,"resize",n)}),d(t,e),()=>{(r||i&&e.contentWindow)&&i(),p(e)}}(n,t[56].bind(n)),i=!0},p(t,r){a&&a.p&&(!i||1988&r[0]|4194304&r[1])&&f(a,o,t,t[53],i?l(o,t[53],r,he):h(t[53]),de),(!i||48&r[0]&&e!==(e="position:"+t[5]+"; "+("absolute"===t[5]?"top:0;right:0;bottom:0;left:0;":"")+" "+(!1===t[4]?"pointer-events:none;":"")))&&M(n,"style",e)},i(t){i||(Y(a,t),i=!0)},o(t){X(a,t),i=!1},d(e){e&&p(n),a&&a.d(e),t[55](null),r()}}}function pe(t){let n,e,r=(!0===t[3]||"undefined"!=typeof window)&&ge(t);return{c(){r&&r.c(),n=$()},m(t,i){r&&r.m(t,i),g(t,n,i),e=!0},p(t,e){!0===t[3]||"undefined"!=typeof window?r?(r.p(t,e),8&e[0]&&Y(r,1)):(r=ge(t),r.c(),Y(r,1),r.m(n.parentNode,n)):r&&(U(),X(r,1,1,(()=>{r=null})),G())},i(t){e||(Y(r),e=!0)},o(t){X(r),e=!1},d(t){r&&r.d(t),t&&p(n)}}}function ye(t,n,e){let r,i,o,a,s,c,{$$slots:l={},$$scope:f}=n,{ssr:h=!1}=n,{pointerEvents:d=!0}=n,{position:g="relative"}=n,{percentRange:p=!1}=n,{width:y}=n,{height:m}=n,{containerWidth:v=y||100}=n,{containerHeight:x=m||100}=n,{element:w}=n,{x:$}=n,{y:b}=n,{z:M}=n,{r:k}=n,{custom:N={}}=n,{data:_=[]}=n,{xDomain:A}=n,{yDomain:z}=n,{zDomain:S}=n,{rDomain:D}=n,{xNice:E=!1}=n,{yNice:T=!1}=n,{zNice:j=!1}=n,{rNice:q=!1}=n,{xReverse:B=fe.x}=n,{yReverse:P=fe.y}=n,{zReverse:L=fe.z}=n,{rReverse:O=fe.r}=n,{xPadding:H}=n,{yPadding:I}=n,{zPadding:K}=n,{rPadding:W}=n,{xScale:F=te.x}=n,{yScale:U=te.y}=n,{zScale:G=te.y}=n,{rScale:Y=te.r}=n,{xRange:X}=n,{yRange:J}=n,{zRange:Z}=n,{rRange:V}=n,{padding:Q={}}=n,{extents:tt={}}=n,{flatData:nt}=n;const et={},rt=Gn(),it=Gn();u(t,it,(t=>e(9,s=t)));const ot=Gn();u(t,ot,(t=>e(10,c=t)));const at=Gn(),ut=Gn(),st=Gn(),ct=Gn(),lt=Gn(),ft=Gn(),ht=Gn(),dt=Gn(),gt=Gn(),pt=Gn(),yt=Gn(),mt=Gn(),vt=Gn(),xt=Gn(),wt=Gn(),$t=Gn(),bt=Gn(),Mt=Gn(),kt=Gn(),Nt=Gn(),_t=Gn(),At=Gn(),zt=Gn(),St=Gn(),Rt=Gn(),Dt=Gn(),Et=Gn(),Ct=Gn(),Tt=Gn(),jt=Gn(),qt=Gn(),Bt=Gn(),Pt=Gn(),Lt=Gn(et),Ot=Yn([at,ut,st,ct],(([t,n,e,r])=>{const i={};return t&&(i.x=t),n&&(i.y=n),e&&(i.z=e),r&&(i.r=r),i})),Ht=Yn([qt,it,ot],(([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t))),It=Yn([it,ot,Ht],(([t,n,e])=>{const r={};return r.top=e.top,r.right=t-e.right,r.bottom=n-e.bottom,r.left=e.left,r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<=0&&console.error("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),r.height<=0&&console.error("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),r})),Kt=Yn([It],(([t])=>t.width));u(t,Kt,(t=>e(6,i=t)));const Wt=Yn([It],(([t])=>t.height));u(t,Wt,(t=>e(7,o=t)));const Ft=Yn([Bt,Ot,Pt],(([t,n,e])=>({...Zn(t,Jn(n,e)),...e}))),Ut=Yn([Ft,ht],Qn("x")),Gt=Yn([Ft,dt],Qn("y")),Yt=Yn([Ft,gt],Qn("z")),Xt=Yn([Ft,pt],Qn("r")),Jt=Yn([zt,Ft,Ut,kt,yt,wt,Kt,Wt,Et,rt],se("x")),Zt=Yn([at,Jt],ce),Vt=Yn([St,Ft,Gt,Nt,mt,$t,Kt,Wt,Ct,rt],se("y")),Qt=Yn([ut,Vt],ce),tn=Yn([Rt,Ft,Yt,_t,vt,bt,Kt,Wt,Tt,rt],se("z")),nn=Yn([st,tn],ce),en=Yn([Dt,Ft,Xt,At,xt,Mt,Kt,Wt,jt,rt],se("r")),rn=Yn([ct,en],ce),on=Yn([Jt],le),an=Yn([Vt],le),un=Yn([tn],le),sn=Yn([en],le),cn=Yn([Kt,Wt],(([t,n,e])=>n/e));return u(t,cn,(t=>e(8,a=t))),t.$$set=t=>{"ssr"in t&&e(3,h=t.ssr),"pointerEvents"in t&&e(4,d=t.pointerEvents),"position"in t&&e(5,g=t.position),"percentRange"in t&&e(16,p=t.percentRange),"width"in t&&e(17,y=t.width),"height"in t&&e(18,m=t.height),"containerWidth"in t&&e(0,v=t.containerWidth),"containerHeight"in t&&e(1,x=t.containerHeight),"element"in t&&e(2,w=t.element),"x"in t&&e(19,$=t.x),"y"in t&&e(20,b=t.y),"z"in t&&e(21,M=t.z),"r"in t&&e(22,k=t.r),"custom"in t&&e(23,N=t.custom),"data"in t&&e(24,_=t.data),"xDomain"in t&&e(25,A=t.xDomain),"yDomain"in t&&e(26,z=t.yDomain),"zDomain"in t&&e(27,S=t.zDomain),"rDomain"in t&&e(28,D=t.rDomain),"xNice"in t&&e(29,E=t.xNice),"yNice"in t&&e(30,T=t.yNice),"zNice"in t&&e(31,j=t.zNice),"rNice"in t&&e(32,q=t.rNice),"xReverse"in t&&e(33,B=t.xReverse),"yReverse"in t&&e(34,P=t.yReverse),"zReverse"in t&&e(35,L=t.zReverse),"rReverse"in t&&e(36,O=t.rReverse),"xPadding"in t&&e(37,H=t.xPadding),"yPadding"in t&&e(38,I=t.yPadding),"zPadding"in t&&e(39,K=t.zPadding),"rPadding"in t&&e(40,W=t.rPadding),"xScale"in t&&e(41,F=t.xScale),"yScale"in t&&e(42,U=t.yScale),"zScale"in t&&e(43,G=t.zScale),"rScale"in t&&e(44,Y=t.rScale),"xRange"in t&&e(45,X=t.xRange),"yRange"in t&&e(46,J=t.yRange),"zRange"in t&&e(47,Z=t.zRange),"rRange"in t&&e(48,V=t.rRange),"padding"in t&&e(49,Q=t.padding),"extents"in t&&e(50,tt=t.extents),"flatData"in t&&e(51,nt=t.flatData),"$$scope"in t&&e(53,f=t.$$scope)},t.$$.update=()=>{524288&t.$$.dirty[0]&&$&&(et.x=$),1048576&t.$$.dirty[0]&&b&&(et.y=b),2097152&t.$$.dirty[0]&&M&&(et.z=M),4194304&t.$$.dirty[0]&&k&&(et.r=k),33554432&t.$$.dirty[0]&&A&&(et.xDomain=A),67108864&t.$$.dirty[0]&&z&&(et.yDomain=z),134217728&t.$$.dirty[0]&&S&&(et.zDomain=S),268435456&t.$$.dirty[0]&&D&&(et.rDomain=D),16384&t.$$.dirty[1]&&X&&(et.xRange=X),32768&t.$$.dirty[1]&&J&&(et.yRange=J),65536&t.$$.dirty[1]&&Z&&(et.zRange=Z),131072&t.$$.dirty[1]&&V&&(et.rRange=V),65536&t.$$.dirty[0]&&rt.set(p),1&t.$$.dirty[0]&&it.set(v),2&t.$$.dirty[0]&&ot.set(x),524288&t.$$.dirty[0]&&at.set(Xn($)),1048576&t.$$.dirty[0]&&ut.set(Xn(b)),2097152&t.$$.dirty[0]&&st.set(Xn(M)),4194304&t.$$.dirty[0]&&ct.set(Xn(k)),33554432&t.$$.dirty[0]&&ht.set(A),67108864&t.$$.dirty[0]&&dt.set(z),134217728&t.$$.dirty[0]&&gt.set(S),268435456&t.$$.dirty[0]&&pt.set(D),8388608&t.$$.dirty[0]&&lt.set(N),16777216&t.$$.dirty[0]&&ft.set(_),536870912&t.$$.dirty[0]&&yt.set(E),1073741824&t.$$.dirty[0]&&mt.set(T),1&t.$$.dirty[1]&&vt.set(j),2&t.$$.dirty[1]&&xt.set(q),4&t.$$.dirty[1]&&wt.set(B),8&t.$$.dirty[1]&&$t.set(P),16&t.$$.dirty[1]&&bt.set(L),32&t.$$.dirty[1]&&Mt.set(O),64&t.$$.dirty[1]&&kt.set(H),128&t.$$.dirty[1]&&Nt.set(I),256&t.$$.dirty[1]&&_t.set(K),512&t.$$.dirty[1]&&At.set(W),1024&t.$$.dirty[1]&&zt.set(F),2048&t.$$.dirty[1]&&St.set(U),4096&t.$$.dirty[1]&&Rt.set(G),8192&t.$$.dirty[1]&&Dt.set(Y),16384&t.$$.dirty[1]&&Et.set(X),32768&t.$$.dirty[1]&&Ct.set(J),65536&t.$$.dirty[1]&&Tt.set(Z),131072&t.$$.dirty[1]&&jt.set(V),262144&t.$$.dirty[1]&&qt.set(Q),524288&t.$$.dirty[1]&&Pt.set(Jn(tt)),16777216&t.$$.dirty[0]|1048576&t.$$.dirty[1]&&Bt.set(nt||_),2097152&t.$$.dirty[1]&&function(t,n){R().$$.context.set(t,n)}("LayerCake",r)},e(52,r={activeGetters:Ot,width:Kt,height:Wt,percentRange:rt,aspectRatio:cn,containerWidth:it,containerHeight:ot,x:at,y:ut,z:st,r:ct,custom:lt,data:ft,xNice:yt,yNice:mt,zNice:vt,rNice:xt,xReverse:wt,yReverse:$t,zReverse:bt,rReverse:Mt,xPadding:kt,yPadding:Nt,zPadding:_t,rPadding:At,padding:Ht,flatData:Bt,extents:Ft,xDomain:Ut,yDomain:Gt,zDomain:Yt,rDomain:Xt,xRange:on,yRange:an,zRange:un,rRange:sn,config:Lt,xScale:Jt,xGet:Zt,yScale:Vt,yGet:Qt,zScale:tn,zGet:nn,rScale:en,rGet:rn}),[v,x,w,h,d,g,i,o,a,s,c,it,ot,Kt,Wt,cn,p,y,m,$,b,M,k,N,_,A,z,S,D,E,T,j,q,B,P,L,O,H,I,K,W,F,U,G,Y,X,J,Z,V,Q,tt,nt,r,f,l,function(t){C[t?"unshift":"push"]((()=>{w=t,e(2,w)}))},function(){v=this.clientWidth,x=this.clientHeight,e(0,v),e(1,x)}]}class me extends et{constructor(t){super(),nt(this,t,ye,pe,o,{ssr:3,pointerEvents:4,position:5,percentRange:16,width:17,height:18,containerWidth:0,containerHeight:1,element:2,x:19,y:20,z:21,r:22,custom:23,data:24,xDomain:25,yDomain:26,zDomain:27,rDomain:28,xNice:29,yNice:30,zNice:31,rNice:32,xReverse:33,yReverse:34,zReverse:35,rReverse:36,xPadding:37,yPadding:38,zPadding:39,rPadding:40,xScale:41,yScale:42,zScale:43,rScale:44,xRange:45,yRange:46,zRange:47,rRange:48,padding:49,extents:50,flatData:51},null,[-1,-1,-1,-1])}}const ve=t=>({element:1&t}),xe=t=>({element:t[0]}),we=t=>({element:1&t}),$e=t=>({element:t[0]});function be(t){let n,e,r,i,o,a;const u=t[13].defs,c=s(u,t,t[12],$e),y=t[13].default,m=s(y,t,t[12],xe);return{c(){n=v("svg"),e=v("defs"),c&&c.c(),r=v("g"),m&&m.c(),M(r,"class","layercake-layout-svg_g"),M(r,"transform",i="translate("+t[6].left+", "+t[6].top+")"),M(n,"class","layercake-layout-svg svelte-u84d8d"),M(n,"viewBox",t[1]),M(n,"width",t[4]),M(n,"height",t[5]),M(n,"style",o=""+(t[2]+t[3]))},m(i,o){g(i,n,o),d(n,e),c&&c.m(e,null),d(n,r),m&&m.m(r,null),t[14](n),a=!0},p(t,[e]){c&&c.p&&(!a||4097&e)&&f(c,u,t,t[12],a?l(u,t[12],e,we):h(t[12]),$e),m&&m.p&&(!a||4097&e)&&f(m,y,t,t[12],a?l(y,t[12],e,ve):h(t[12]),xe),(!a||64&e&&i!==(i="translate("+t[6].left+", "+t[6].top+")"))&&M(r,"transform",i),(!a||2&e)&&M(n,"viewBox",t[1]),(!a||16&e)&&M(n,"width",t[4]),(!a||32&e)&&M(n,"height",t[5]),(!a||12&e&&o!==(o=""+(t[2]+t[3])))&&M(n,"style",o)},i(t){a||(Y(c,t),Y(m,t),a=!0)},o(t){X(c,t),X(m,t),a=!1},d(e){e&&p(n),c&&c.d(e),m&&m.d(e),t[14](null)}}}function Me(t,n,e){let r,i,o,{$$slots:a={},$$scope:s}=n,{element:c}=n,{viewBox:l}=n,{zIndex:f}=n,{pointerEvents:h}=n,d="",g="";const{containerWidth:p,containerHeight:y,padding:m}=D("LayerCake");return u(t,p,(t=>e(4,r=t))),u(t,y,(t=>e(5,i=t))),u(t,m,(t=>e(6,o=t))),t.$$set=t=>{"element"in t&&e(0,c=t.element),"viewBox"in t&&e(1,l=t.viewBox),"zIndex"in t&&e(10,f=t.zIndex),"pointerEvents"in t&&e(11,h=t.pointerEvents),"$$scope"in t&&e(12,s=t.$$scope)},t.$$.update=()=>{1024&t.$$.dirty&&e(2,d=void 0!==f?`z-index:${f};`:""),2048&t.$$.dirty&&e(3,g=!1===h?"pointer-events:none;":"")},[c,l,d,g,r,i,o,p,y,m,f,h,s,a,function(t){C[t?"unshift":"push"]((()=>{c=t,e(0,c)}))}]}class ke extends et{constructor(t){super(),nt(this,t,Me,be,o,{element:0,viewBox:1,zIndex:10,pointerEvents:11})}}function Ne(t){let n;const e=t[4].default,r=s(e,t,t[5],null);return{c(){r&&r.c()},m(t,e){r&&r.m(t,e),n=!0},p(t,i){r&&r.p&&(!n||32&i)&&f(r,e,t,t[5],n?l(e,t[5],i,null):h(t[5]),null)},i(t){n||(Y(r,t),n=!0)},o(t){X(r,t),n=!1},d(t){r&&r.d(t)}}}function _e(t){let n,e;return n=new ke({props:{$$slots:{default:[Ne]},$$scope:{ctx:t}}}),{c(){Z(n.$$.fragment)},m(t,r){V(n,t,r),e=!0},p(t,e){const r={};32&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(Y(n.$$.fragment,t),e=!0)},o(t){X(n.$$.fragment,t),e=!1},d(t){Q(n,t)}}}function Ae(t){let n,e;return n=new me({props:{padding:t[1]?.padding||{right:8,bottom:32,left:32,top:8},x:t[1]?.xKey||"key",y:t[1]?.yKey||"value",z:t[1]?.zKey,r:t[1]?.rKey,xScale:t[1]?.xScale,zScale:t[1]?.zScale,xDomain:t[1]?.xDomain,yDomain:t[1]?.yDomain,zDomain:t[1]?.zDomain,rDomain:t[2],zRange:t[1]?.zRange,data:t[0],flatData:t[0].flat(),$$slots:{default:[_e]},$$scope:{ctx:t}}}),{c(){Z(n.$$.fragment)},m(t,r){V(n,t,r),e=!0},p(t,[e]){const r={};2&e&&(r.padding=t[1]?.padding||{right:8,bottom:32,left:32,top:8}),2&e&&(r.x=t[1]?.xKey||"key"),2&e&&(r.y=t[1]?.yKey||"value"),2&e&&(r.z=t[1]?.zKey),2&e&&(r.r=t[1]?.rKey),2&e&&(r.xScale=t[1]?.xScale),2&e&&(r.zScale=t[1]?.zScale),2&e&&(r.xDomain=t[1]?.xDomain),2&e&&(r.yDomain=t[1]?.yDomain),2&e&&(r.zDomain=t[1]?.zDomain),4&e&&(r.rDomain=t[2]),2&e&&(r.zRange=t[1]?.zRange),1&e&&(r.data=t[0]),1&e&&(r.flatData=t[0].flat()),32&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(Y(n.$$.fragment,t),e=!0)},o(t){X(n.$$.fragment,t),e=!1},d(t){Q(n,t)}}}function ze(t,n,e){let r,i,{$$slots:o={},$$scope:a}=n,{data:u}=n,{config:s}=n;return t.$$set=t=>{"data"in t&&e(0,u=t.data),"config"in t&&e(1,s=t.config),"$$scope"in t&&e(5,a=t.$$scope)},t.$$.update=()=>{3&t.$$.dirty&&e(3,r=Math.max(...u.flat().map((t=>t[s?.rKey])))),8&t.$$.dirty&&e(2,i=[0,r])},[u,s,i,r,o,a]}class Se extends et{constructor(t){super(),nt(this,t,ze,Ae,o,{data:0,config:1})}}function Re(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,u,s,c,l,f,h,d=t._root,g={data:r},p=t._x0,y=t._y0,m=t._x1,v=t._y1;if(!d)return t._root=g,t;for(;d.length;)if((c=n>=(o=(p+m)/2))?p=o:m=o,(l=e>=(a=(y+v)/2))?y=a:v=a,i=d,!(d=d[f=l<<1|c]))return i[f]=g,t;if(u=+t._x.call(null,d.data),s=+t._y.call(null,d.data),n===u&&e===s)return g.next=d,i?i[f]=g:t._root=g,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=n>=(o=(p+m)/2))?p=o:m=o,(l=e>=(a=(y+v)/2))?y=a:v=a}while((f=l<<1|c)==(h=(s>=a)<<1|u>=o));return i[h]=d,i[f]=g,t}function De(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function Ee(t){return t[0]}function Ce(t){return t[1]}function Te(t,n,e){var r=new je(null==n?Ee:n,null==e?Ce:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function je(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function qe(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var Be=Te.prototype=je.prototype;function Pe(t){return function(){return t}}function Le(t){return 1e-6*(t()-.5)}function Oe(t){return t.x+t.vx}function He(t){return t.y+t.vy}function Ie(t){return t.index}function Ke(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}Be.copy=function(){var t,n,e=new je(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=qe(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=qe(n));return e},Be.add=function(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return Re(this.cover(n,e),n,e,t)},Be.addAll=function(t){var n,e,r,i,o=t.length,a=new Array(o),u=new Array(o),s=1/0,c=1/0,l=-1/0,f=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=r,u[e]=i,r<s&&(s=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));if(s>l||c>f)return this;for(this.cover(s,c).cover(l,f),e=0;e<o;++e)Re(this,a[e],u[e],t[e]);return this},Be.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var a,u,s=i-e||1,c=this._root;e>t||t>=i||r>n||n>=o;)switch(u=(n<r)<<1|t<e,(a=new Array(4))[u]=c,c=a,s*=2,u){case 0:i=e+s,o=r+s;break;case 1:e=i-s,o=r+s;break;case 2:i=e+s,r=o-s;break;case 3:e=i-s,r=o-s}this._root&&this._root.length&&(this._root=c)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},Be.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},Be.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Be.find=function(t,n,e){var r,i,o,a,u,s,c,l=this._x0,f=this._y0,h=this._x1,d=this._y1,g=[],p=this._root;for(p&&g.push(new De(p,l,f,h,d)),null==e?e=1/0:(l=t-e,f=n-e,h=t+e,d=n+e,e*=e);s=g.pop();)if(!(!(p=s.node)||(i=s.x0)>h||(o=s.y0)>d||(a=s.x1)<l||(u=s.y1)<f))if(p.length){var y=(i+a)/2,m=(o+u)/2;g.push(new De(p[3],y,m,a,u),new De(p[2],i,m,y,u),new De(p[1],y,o,a,m),new De(p[0],i,o,y,m)),(c=(n>=m)<<1|t>=y)&&(s=g[g.length-1],g[g.length-1]=g[g.length-1-c],g[g.length-1-c]=s)}else{var v=t-+this._x.call(null,p.data),x=n-+this._y.call(null,p.data),w=v*v+x*x;if(w<e){var $=Math.sqrt(e=w);l=t-$,f=n-$,h=t+$,d=n+$,r=p.data}}return r},Be.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,u,s,c,l,f,h,d=this._root,g=this._x0,p=this._y0,y=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(u=(g+y)/2))?g=u:y=u,(l=a>=(s=(p+m)/2))?p=s:m=s,n=d,!(d=d[f=l<<1|c]))return this;if(!d.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(e=n,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[f]=i:delete n[f],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},Be.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},Be.root=function(){return this._root},Be.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},Be.visit=function(t){var n,e,r,i,o,a,u=[],s=this._root;for(s&&u.push(new De(s,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(s=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&s.length){var c=(r+o)/2,l=(i+a)/2;(e=s[3])&&u.push(new De(e,c,l,o,a)),(e=s[2])&&u.push(new De(e,r,l,c,a)),(e=s[1])&&u.push(new De(e,c,i,o,l)),(e=s[0])&&u.push(new De(e,r,i,c,l))}return this},Be.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new De(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,u=n.y0,s=n.x1,c=n.y1,l=(a+s)/2,f=(u+c)/2;(o=i[0])&&e.push(new De(o,a,u,l,f)),(o=i[1])&&e.push(new De(o,l,u,s,f)),(o=i[2])&&e.push(new De(o,a,f,l,c)),(o=i[3])&&e.push(new De(o,l,f,s,c))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},Be.x=function(t){return arguments.length?(this._x=t,this):this._x},Be.y=function(t){return arguments.length?(this._y=t,this):this._y};var We={value:()=>{}};function Fe(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Ue(r)}function Ue(t){this._=t}function Ge(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function Ye(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Xe(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=We,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}Ue.prototype=Fe.prototype={constructor:Ue,on:function(t,n){var e,r=this._,i=Ge(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=Xe(r[e],t.name,n);else if(null==n)for(e in r)r[e]=Xe(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=Ye(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Ue(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var Je,Ze,Ve=0,Qe=0,tr=0,nr=0,er=0,rr=0,ir="object"==typeof performance&&performance.now?performance:Date,or="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ar(){return er||(or(ur),er=ir.now()+rr)}function ur(){er=0}function sr(){this._call=this._time=this._next=null}function cr(t,n,e){var r=new sr;return r.restart(t,n,e),r}function lr(){er=(nr=ir.now())+rr,Ve=Qe=0;try{!function(){ar(),++Ve;for(var t,n=Je;n;)(t=er-n._time)>=0&&n._call.call(null,t),n=n._next;--Ve}()}finally{Ve=0,function(){var t,n,e=Je,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Je=n);Ze=t,hr(r)}(),er=0}}function fr(){var t=ir.now(),n=t-nr;n>1e3&&(rr-=n,nr=t)}function hr(t){Ve||(Qe&&(Qe=clearTimeout(Qe)),t-er>24?(t<1/0&&(Qe=setTimeout(lr,t-ir.now()-rr)),tr&&(tr=clearInterval(tr))):(tr||(nr=ir.now(),tr=setInterval(fr,1e3)),Ve=1,or(lr)))}sr.prototype=cr.prototype={constructor:sr,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?ar():+e)+(null==n?0:+n),this._next||Ze===this||(Ze?Ze._next=this:Je=this,Ze=this),this._call=t,this._time=e,hr()},stop:function(){this._call&&(this._call=null,this._time=1/0,hr())}};const dr=4294967296;function gr(t){return t.x}function pr(t){return t.y}var yr=Math.PI*(3-Math.sqrt(5));function mr(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,u=new Map,s=cr(f),c=Fe("tick","end"),l=function(){let t=1;return()=>(t=(1664525*t+1013904223)%dr)/dr}();function f(){h(),c.call("tick",n),e<r&&(s.stop(),c.call("end",n))}function h(r){var s,c,l=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(e+=(o-e)*i,u.forEach((function(t){t(e)})),s=0;s<l;++s)null==(c=t[s]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return n}function d(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=10*Math.sqrt(.5+e),o=e*yr;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function g(n){return n.initialize&&n.initialize(t,l),n}return null==t&&(t=[]),d(),n={tick:h,restart:function(){return s.restart(f),n},stop:function(){return s.stop(),n},nodes:function(e){return arguments.length?(t=e,d(),u.forEach(g),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(a=1-t,n):1-a},randomSource:function(t){return arguments.length?(l=t,u.forEach(g),n):l},force:function(t,e){return arguments.length>1?(null==e?u.delete(t):u.set(t,g(e)),n):u.get(t)},find:function(n,e,r){var i,o,a,u,s,c=0,l=t.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(a=(i=n-(u=t[c]).x)*i+(o=e-u.y)*o)<r&&(s=u,r=a);return s},on:function(t,e){return arguments.length>1?(c.on(t,e),n):c.on(t)}}}function vr(t,n,e){const r=t.slice();return r[48]=n[e],r}function xr(t,n,e){const r=t.slice();return r[51]=n[e],r}function wr(t){let n,e,i,o,a,u,s,c,l,f;function h(){return t[30](t[51])}function d(){return t[31](t[51])}function y(){return t[32](t[51])}return{c(){n=v("circle"),M(n,"id",e="circle"+t[51].index),M(n,"class","node svelte-2hiao1"),M(n,"r",i=t[5](t[51])),M(n,"fill",o=t[2]||t[11](t[51])),M(n,"stroke",a=null!=t[0]&&t[0].index==t[51].index?"#F7DA1A":t[3]),M(n,"stroke-width",u=null!=t[0]&&t[0].index==t[51].index?"3px":t[4]),M(n,"cx",s=t[51].x),M(n,"cy",c=t[51].y)},m(t,e){g(t,n,e),l||(f=[b(n,"mouseover",h),b(n,"focus",d),b(n,"mousedown",y)],l=!0)},p(r,l){t=r,1024&l[0]&&e!==(e="circle"+t[51].index)&&M(n,"id",e),1056&l[0]&&i!==(i=t[5](t[51]))&&M(n,"r",i),3076&l[0]&&o!==(o=t[2]||t[11](t[51]))&&M(n,"fill",o),1033&l[0]&&a!==(a=null!=t[0]&&t[0].index==t[51].index?"#F7DA1A":t[3])&&M(n,"stroke",a),1041&l[0]&&u!==(u=null!=t[0]&&t[0].index==t[51].index?"3px":t[4])&&M(n,"stroke-width",u),1024&l[0]&&s!==(s=t[51].x)&&M(n,"cx",s),1024&l[0]&&c!==(c=t[51].y)&&M(n,"cy",c)},d(t){t&&p(n),l=!1,r(f)}}}function $r(t){let n,e,r,i,o,a=null!=t[20](t[48].name),u=t[48].name+"",s=a&&br(t);return{c(){n=v("g"),s&&s.c(),e=v("text"),r=x(u),M(e,"id",i="label-text-"+t[19](t[48].name)),M(e,"class","no-hover label-text svelte-2hiao1"),M(e,"x",_r),M(e,"y","0.3em"),M(n,"transform",o="translate("+t[8][t[48].name].x+","+t[8][t[48].name].y+")")},m(t,i){g(t,n,i),s&&s.m(n,null),d(n,e),d(e,r)},p(t,c){2&c[0]&&(a=null!=t[20](t[48].name)),a?s?s.p(t,c):(s=br(t),s.c(),s.m(n,e)):s&&(s.d(1),s=null),2&c[0]&&u!==(u=t[48].name+"")&&k(r,u),2&c[0]&&i!==(i="label-text-"+t[19](t[48].name))&&M(e,"id",i),258&c[0]&&o!==(o="translate("+t[8][t[48].name].x+","+t[8][t[48].name].y+")")&&M(n,"transform",o)},d(t){t&&p(n),s&&s.d()}}}function br(t){let n,e,r,i,o;return{c(){n=v("rect"),M(n,"id",e="label-background-"+t[19](t[48].name)),M(n,"class","no-hover label-background svelte-2hiao1"),M(n,"x",r=-t[20](t[48].name).getBBox().width/2),M(n,"y","-0.7em"),M(n,"width",i=t[20](t[48].name).getBBox().width+2*_r),M(n,"height","1.4em"),M(n,"fill",o=null!=t[0]&&t[0].genres.includes(t[48].name)?"#F7DA1A":"#ccc")},m(t,e){g(t,n,e)},p(t,a){2&a[0]&&e!==(e="label-background-"+t[19](t[48].name))&&M(n,"id",e),2&a[0]&&r!==(r=-t[20](t[48].name).getBBox().width/2)&&M(n,"x",r),2&a[0]&&i!==(i=t[20](t[48].name).getBBox().width+2*_r)&&M(n,"width",i),3&a[0]&&o!==(o=null!=t[0]&&t[0].genres.includes(t[48].name)?"#F7DA1A":"#ccc")&&M(n,"fill",o)},d(t){t&&p(n)}}}function Mr(t){let n,e=t[48].checked&&$r(t);return{c(){e&&e.c(),n=$()},m(t,r){e&&e.m(t,r),g(t,n,r)},p(t,r){t[48].checked?e?e.p(t,r):(e=$r(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},d(t){e&&e.d(t),t&&p(n)}}}function kr(t){let n,e,r,i,o,a,u,s,c,l=t[0].artistName+"";return{c(){n=v("rect"),o=w(),a=v("text"),u=x(l),M(n,"id","selected-artist-background"),M(n,"class","no-hover svelte-2hiao1"),M(n,"x",e=t[6]-t[9]/2-_r),M(n,"y",r=t[7]-50),M(n,"width",i=t[9]+2*_r),M(n,"height","2.2em"),M(n,"fill","#F7DA1A"),M(n,"opacity","0.8"),M(a,"id","selected-artist"),M(a,"class","no-hover svelte-2hiao1"),M(a,"x",s=t[6]-t[9]/2),M(a,"y",c=t[7]-30)},m(t,e){g(t,n,e),g(t,o,e),g(t,a,e),d(a,u)},p(t,o){576&o[0]&&e!==(e=t[6]-t[9]/2-_r)&&M(n,"x",e),128&o[0]&&r!==(r=t[7]-50)&&M(n,"y",r),512&o[0]&&i!==(i=t[9]+2*_r)&&M(n,"width",i),1&o[0]&&l!==(l=t[0].artistName+"")&&k(u,l),576&o[0]&&s!==(s=t[6]-t[9]/2)&&M(a,"x",s),128&o[0]&&c!==(c=t[7]-30)&&M(a,"y",c)},d(t){t&&p(n),t&&p(o),t&&p(a)}}}function Nr(n){let e,r,i,o,a=n[10],u=[];for(let t=0;t<a.length;t+=1)u[t]=wr(xr(n,a,t));let s=n[1],c=[];for(let t=0;t<s.length;t+=1)c[t]=Mr(vr(n,s,t));let l=n[7]&&kr(n);return{c(){e=v("g");for(let t=0;t<u.length;t+=1)u[t].c();r=w();for(let t=0;t<c.length;t+=1)c[t].c();i=w(),l&&l.c(),o=$(),M(e,"id","circle-group")},m(t,n){g(t,e,n);for(let t=0;t<u.length;t+=1)u[t].m(e,null);g(t,r,n);for(let e=0;e<c.length;e+=1)c[e].m(t,n);g(t,i,n),l&&l.m(t,n),g(t,o,n)},p(t,n){if(265277&n[0]){let r;for(a=t[10],r=0;r<a.length;r+=1){const i=xr(t,a,r);u[r]?u[r].p(i,n):(u[r]=wr(i),u[r].c(),u[r].m(e,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=a.length}if(1573123&n[0]){let e;for(s=t[1],e=0;e<s.length;e+=1){const r=vr(t,s,e);c[e]?c[e].p(r,n):(c[e]=Mr(r),c[e].c(),c[e].m(i.parentNode,i))}for(;e<c.length;e+=1)c[e].d(1);c.length=s.length}t[7]?l?l.p(t,n):(l=kr(t),l.c(),l.m(o.parentNode,o)):l&&(l.d(1),l=null)},i:t,o:t,d(t){t&&p(e),y(u,t),t&&p(r),y(c,t),t&&p(i),l&&l.d(t),t&&p(o)}}}let _r=5;function Ar(t,n,e){let r,i,o,a,s,c;const{data:l,width:f,height:h,rScale:d,xScale:g,zScale:p,xGet:y,rGet:m,zGet:v}=D("LayerCake");u(t,l,(t=>e(36,s=t))),u(t,f,(t=>e(29,a=t))),u(t,h,(t=>e(28,o=t))),u(t,d,(t=>e(27,r=t))),u(t,m,(t=>e(5,i=t))),u(t,v,(t=>e(11,c=t)));let x,w,$,b,M,{manyBodyStrength:k=-1}=n,{xStrength:N=.1}=n,{nodeColor:_}=n,{nodeStroke:A="#fff"}=n,{nodeStrokeWidth:z=1}=n,{groupBy:S=!0}=n,{selectedArtist:R}=n,{genres:E}=n,C={};E.map((t=>e(8,C[t.name]={x:0,y:0},C)));let T=0,j=t=>t.reduce(((t,n)=>t+n))/t.length;const q=s.map((t=>({...t}))),B=mr(q);let P,L=[];B.on("tick",(()=>{e(10,L=B.nodes()),e(1,E),function(t){for(const n in C)$=t.filter((t=>t.genres.includes(n))),0==$.length?(b=0,M=0):(b=j($.map((t=>t.x))),M=j($.map((t=>t.y)))),e(8,C[n]={x:b,y:M},C)}(L),null!=R&&(e(6,x=R.x),e(7,w=R.y))})),console.log(q);let O,H=null;function I(t){e(0,R=t)}fetch("./data/links.json").then((t=>t.json())).then((t=>{e(25,H=t),console.log(H),q.forEach(((t,n)=>{t.numLinks=H.filter((t=>t.source==n||t.target==n)).length}))}));let K=t=>t.replace(/ /g,"");return t.$$set=t=>{"manyBodyStrength"in t&&e(21,k=t.manyBodyStrength),"xStrength"in t&&e(22,N=t.xStrength),"nodeColor"in t&&e(2,_=t.nodeColor),"nodeStroke"in t&&e(3,A=t.nodeStroke),"nodeStrokeWidth"in t&&e(4,z=t.nodeStrokeWidth),"groupBy"in t&&e(23,S=t.groupBy),"selectedArtist"in t&&e(0,R=t.selectedArtist),"genres"in t&&e(1,E=t.genres)},t.$$.update=()=>{16777217&t.$$.dirty[0]&&R&&e(24,P=setInterval((()=>{document.getElementById("selected-artist")&&(clearInterval(P),e(9,T=document.getElementById("selected-artist").getBBox().width))}),10)),536870912&t.$$.dirty[0]&&e(26,O=10/a**1),1040187440&t.$$.dirty[0]&&B.force("center",function(t,n){var e,r=1;function i(){var i,o,a=e.length,u=0,s=0;for(i=0;i<a;++i)u+=(o=e[i]).x,s+=o.y;for(u=(u/a-t)*r,s=(s/a-n)*r,i=0;i<a;++i)(o=e[i]).x-=u,o.y-=s}return null==t&&(t=0),null==n&&(n=0),i.initialize=function(t){e=t},i.x=function(n){return arguments.length?(t=+n,i):t},i.y=function(t){return arguments.length?(n=+t,i):n},i.strength=function(t){return arguments.length?(r=+t,i):r},i}(a/2+30,o/2+50)).force("x",function(t){var n,e,r,i=Pe(.1);function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vx+=(r[o]-i.x)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=Pe(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Pe(+t),a(),o):i},o.x=function(n){return arguments.length?(t="function"==typeof n?n:Pe(+n),a(),o):t},o}().strength(O)).force("y",function(t){var n,e,r,i=Pe(.1);function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vy+=(r[o]-i.y)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=Pe(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Pe(+t),a(),o):i},o.y=function(n){return arguments.length?(t="function"==typeof n?n:Pe(+n),a(),o):t},o}().strength(O)).force("charge",function(){var t,n,e,r,i,o=Pe(-30),a=1,u=1/0,s=.81;function c(e){var i,o=t.length,a=Te(t,gr,pr).visitAfter(f);for(r=e,i=0;i<o;++i)n=t[i],a.visit(h)}function l(){if(t){var n,e,r=t.length;for(i=new Array(r),n=0;n<r;++n)e=t[n],i[e.index]=+o(e,n,t)}}function f(t){var n,e,r,o,a,u=0,s=0;if(t.length){for(r=o=a=0;a<4;++a)(n=t[a])&&(e=Math.abs(n.value))&&(u+=n.value,s+=e,r+=e*n.x,o+=e*n.y);t.x=r/s,t.y=o/s}else{(n=t).x=n.data.x,n.y=n.data.y;do{u+=i[n.data.index]}while(n=n.next)}t.value=u}function h(t,o,c,l){if(!t.value)return!0;var f=t.x-n.x,h=t.y-n.y,d=l-o,g=f*f+h*h;if(d*d/s<g)return g<u&&(0===f&&(g+=(f=Le(e))*f),0===h&&(g+=(h=Le(e))*h),g<a&&(g=Math.sqrt(a*g)),n.vx+=f*t.value*r/g,n.vy+=h*t.value*r/g),!0;if(!(t.length||g>=u)){(t.data!==n||t.next)&&(0===f&&(g+=(f=Le(e))*f),0===h&&(g+=(h=Le(e))*h),g<a&&(g=Math.sqrt(a*g)));do{t.data!==n&&(d=i[t.data.index]*r/g,n.vx+=f*d,n.vy+=h*d)}while(t=t.next)}}return c.initialize=function(n,r){t=n,e=r,l()},c.strength=function(t){return arguments.length?(o="function"==typeof t?t:Pe(+t),l(),c):o},c.distanceMin=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.distanceMax=function(t){return arguments.length?(u=t*t,c):Math.sqrt(u)},c.theta=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c}().strength(-1.2)).force("link",function(t){var n,e,r,i,o,a,u=Ie,s=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},c=Pe(30),l=1;function f(r){for(var i=0,u=t.length;i<l;++i)for(var s,c,f,h,d,g,p,y=0;y<u;++y)c=(s=t[y]).source,h=(f=s.target).x+f.vx-c.x-c.vx||Le(a),d=f.y+f.vy-c.y-c.vy||Le(a),h*=g=((g=Math.sqrt(h*h+d*d))-e[y])/g*r*n[y],d*=g,f.vx-=h*(p=o[y]),f.vy-=d*p,c.vx+=h*(p=1-p),c.vy+=d*p}function h(){if(r){var a,s,c=r.length,l=t.length,f=new Map(r.map(((t,n)=>[u(t,n,r),t])));for(a=0,i=new Array(c);a<l;++a)(s=t[a]).index=a,"object"!=typeof s.source&&(s.source=Ke(f,s.source)),"object"!=typeof s.target&&(s.target=Ke(f,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(a=0,o=new Array(l);a<l;++a)s=t[a],o[a]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);n=new Array(l),d(),e=new Array(l),g()}}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+s(t[e],e,t)}function g(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+c(t[n],n,t)}return null==t&&(t=[]),f.initialize=function(t,n){r=t,a=n,h()},f.links=function(n){return arguments.length?(t=n,h(),f):t},f.id=function(t){return arguments.length?(u=t,f):u},f.iterations=function(t){return arguments.length?(l=+t,f):l},f.strength=function(t){return arguments.length?(s="function"==typeof t?t:Pe(+t),d(),f):s},f.distance=function(t){return arguments.length?(c="function"==typeof t?t:Pe(+t),g(),f):c},f}(H).distance((t=>i(t.source)+i(t.target))).strength((t=>.08/Math.min(t.source.numLinks,t.target.numLinks)))).force("collision",function(t){var n,e,r,i=1,o=1;function a(){for(var t,a,s,c,l,f,h,d=n.length,g=0;g<o;++g)for(a=Te(n,Oe,He).visitAfter(u),t=0;t<d;++t)s=n[t],f=e[s.index],h=f*f,c=s.x+s.vx,l=s.y+s.vy,a.visit(p);function p(t,n,e,o,a){var u=t.data,d=t.r,g=f+d;if(!u)return n>c+g||o<c-g||e>l+g||a<l-g;if(u.index>s.index){var p=c-u.x-u.vx,y=l-u.y-u.vy,m=p*p+y*y;m<g*g&&(0===p&&(m+=(p=Le(r))*p),0===y&&(m+=(y=Le(r))*y),m=(g-(m=Math.sqrt(m)))/m*i,s.vx+=(p*=m)*(g=(d*=d)/(h+d)),s.vy+=(y*=m)*g,u.vx-=p*(g=1-g),u.vy-=y*g)}}}function u(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function s(){if(n){var r,i,o=n.length;for(e=new Array(o),r=0;r<o;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=Pe(null==t?1:+t)),a.initialize=function(t,e){n=t,r=e,s()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(n){return arguments.length?(t="function"==typeof n?n:Pe(+n),s(),a):t},a}().radius((t=>r(t.collideR)+z/2)).strength(1)).alpha(1).alphaDecay(1e-4).alphaTarget(.02).velocityDecay(.1).restart()},[R,E,_,A,z,i,x,w,C,T,L,c,l,f,h,d,m,v,I,K,t=>document.getElementById("label-text-"+K(t)),k,N,S,P,H,O,r,o,a,t=>I(t),t=>I(t),t=>{}]}class zr extends et{constructor(t){super(),nt(this,t,Ar,Nr,o,{manyBodyStrength:21,xStrength:22,nodeColor:2,nodeStroke:3,nodeStrokeWidth:4,groupBy:23,selectedArtist:0,genres:1},null,[-1,-1])}}function Sr(t,n,e){const r=t.slice();return r[3]=n[e],r[4]=n,r[5]=e,r}function Rr(t){let n,e,r,i,o,a,u,s=t[3].name+"";function c(){t[2].call(e,t[4],t[5])}return{c(){n=m("label"),e=m("input"),r=w(),i=x(s),o=w(),M(e,"type","checkbox"),M(e,"class","svelte-1r8qsx2"),M(n,"class","svelte-1r8qsx2"),z(n,"checked",t[3].checked)},m(s,l){g(s,n,l),d(n,e),e.checked=t[3].checked,d(n,r),d(n,i),d(n,o),a||(u=b(e,"change",c),a=!0)},p(r,o){t=r,1&o&&(e.checked=t[3].checked),1&o&&s!==(s=t[3].name+"")&&k(i,s),1&o&&z(n,"checked",t[3].checked)},d(t){t&&p(n),a=!1,u()}}}function Dr(n){let e,r,i,o=n[0],a=[];for(let t=0;t<o.length;t+=1)a[t]=Rr(Sr(n,o,t));return{c(){e=m("legend"),r=w(),i=m("fieldset");for(let t=0;t<a.length;t+=1)a[t].c();M(e,"for","checklist"),M(e,"class","svelte-1r8qsx2"),M(i,"id","checklist"),M(i,"class","svelte-1r8qsx2")},m(t,o){g(t,e,o),e.innerHTML=n[1],g(t,r,o),g(t,i,o);for(let t=0;t<a.length;t+=1)a[t].m(i,null)},p(t,[n]){if(2&n&&(e.innerHTML=t[1]),1&n){let e;for(o=t[0],e=0;e<o.length;e+=1){const r=Sr(t,o,e);a[e]?a[e].p(r,n):(a[e]=Rr(r),a[e].c(),a[e].m(i,null))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}},i:t,o:t,d(t){t&&p(e),t&&p(r),t&&p(i),y(a,t)}}}function Er(t,n,e){let{legend:r}=n,{entries:i}=n;return t.$$set=t=>{"legend"in t&&e(1,r=t.legend),"entries"in t&&e(0,i=t.entries)},t.$$.update=()=>{1&t.$$.dirty&&console.log(i)},[i,r,function(t,n){t[n].checked=this.checked,e(0,i)}]}class Cr extends et{constructor(t){super(),nt(this,t,Er,Dr,o,{legend:1,entries:0})}}function Tr(t){let n,e;return n=new Se({props:{data:t[2],config:t[3],$$slots:{default:[jr]},$$scope:{ctx:t}}}),{c(){Z(n.$$.fragment)},m(t,r){V(n,t,r),e=!0},p(t,e){const r={};4&e&&(r.data=t[2]),262147&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(Y(n.$$.fragment,t),e=!0)},o(t){X(n.$$.fragment,t),e=!1},d(t){Q(n,t)}}}function jr(t){let n,e,r;function i(n){t[6](n)}let o={genres:t[0],nodeStroke:"#fff"};return void 0!==t[1]&&(o.selectedArtist=t[1]),n=new zr({props:o}),C.push((()=>J(n,"selectedArtist",i))),{c(){Z(n.$$.fragment)},m(t,e){V(n,t,e),r=!0},p(t,r){const i={};1&r&&(i.genres=t[0]),!e&&2&r&&(e=!0,i.selectedArtist=t[1],L((()=>e=!1))),n.$set(i)},i(t){r||(Y(n.$$.fragment,t),r=!0)},o(t){X(n.$$.fragment,t),r=!1},d(t){Q(n,t)}}}function qr(t){let n,e,r;function i(n){t[7](n)}let o={legend:"You can pick a genre to see where it turns up on the map.<br>There's a lot... but there are fun clusters like Italian underground hip hop, and, err, brostep and tamil pop? How did that get there..."};return void 0!==t[0]&&(o.entries=t[0]),n=new Cr({props:o}),C.push((()=>J(n,"entries",i))),{c(){Z(n.$$.fragment)},m(t,e){V(n,t,e),r=!0},p(t,r){const i={};!e&&1&r&&(e=!0,i.entries=t[0],L((()=>e=!1))),n.$set(i)},i(t){r||(Y(n.$$.fragment,t),r=!0)},o(t){X(n.$$.fragment,t),r=!1},d(t){Q(n,t)}}}function Br(t){let n,e,r,i,o,a,u,s,c,l,f,h,y,v=t[2]&&t[0]&&Tr(t),x=t[0]&&qr(t);return{c(){n=m("div"),e=m("h3"),e.textContent="My Spotify universe",r=w(),i=m("h4"),i.innerHTML='<br/>My listening data for the last year, as a set of moving celestial bodies in gravitation towards an orbit.\n    <br/>The UK hip hop galaxy cycles round the margins, its constellations of grime and drill and &#39;alternative&#39; hip hop.\n    <br/>The core planetary system is a continuum from Joy Crookes and UK contemporary R&amp;B to electronic music, passing through FKA Twigs, escape room (one of those genres completely made up by Spotify),\n    hyperpop, through Charli XCX&#39;s art pop, Bloc Party&#39;s indie rock, uncategorisable Jamie XX and Mount Kimbie to the solar system of wonky beats and its moons of lo-fi house and &#39;classic&#39; dubstep.\n    <br/>There were some surprises, like the UK garage revival asteroid belt. \n    <br/>Musicians without genres, or with very random ones, are the distant stars that sit around the edges.\n    <br/>Hover over an artist bubble to see <span class="highlighted svelte-fqida3">their name</span> (genres they belong to will go <span class="highlighted svelte-fqida3">yellow</span> too). They are sized by song plays; I only included ones I listened to at least 3 times.',o=w(),a=w(),u=m("div"),s=m("div"),v&&v.c(),l=w(),f=m("h4"),f.textContent="On your phone, try switching to landscape so it's all a bit less packed in",h=w(),x&&x.c(),M(s,"class",c="area-container "+(t[2]?"":"isLoading")+" svelte-fqida3"),M(u,"class","grid svelte-fqida3"),M(n,"class","embed-container")},m(t,c){g(t,n,c),d(n,e),d(n,r),d(n,i),d(n,o),d(n,a),d(n,u),d(u,s),v&&v.m(s,null),d(n,l),d(n,f),d(n,h),x&&x.m(n,null),y=!0},p(t,[e]){t[2]&&t[0]?v?(v.p(t,e),5&e&&Y(v,1)):(v=Tr(t),v.c(),Y(v,1),v.m(s,null)):v&&(U(),X(v,1,1,(()=>{v=null})),G()),(!y||4&e&&c!==(c="area-container "+(t[2]?"":"isLoading")+" svelte-fqida3"))&&M(s,"class",c),t[0]?x?(x.p(t,e),1&e&&Y(x,1)):(x=qr(t),x.c(),Y(x,1),x.m(n,null)):x&&(U(),X(x,1,1,(()=>{x=null})),G())},i(t){y||(Y(v),Y(x),y=!0)},o(t){X(v),X(x),y=!1},d(t){t&&p(n),v&&v.d(),x&&x.d()}}}function Pr(t,n,e){var r;let i;r=()=>{window.pymChild.sendHeight(),setTimeout((()=>!0),250)},R().$$.on_mount.push(r);let o,a,u,s,c=[],l={},f=["uk alternative hip hop","grime","melodic drill","electronica","wonky","hyperpop","art pop","uk contemporary r&b","indie soul","drum and bass","pop","rap","indie rock","lo-fi house","ukg revival"],h={rKey:"count",zKey:"index",zRange:["#83b5d1","#6a041d","#dbd8b3","#324a5f","#d88373"].concat(Array(0).fill("#999")),zScale:qt()};fetch("./data/data.csv",{mode:"cors",cache:"no-store"}).then((t=>t.text())).then((t=>{e(2,s=lt(t)),e(2,s=s.map((t=>(i=JSON.parse("'"==t.genres[1]?t.genres.replace(/'/g,'"'):t.genres),c.push(...i),{...t,genres:i,count:+t.count,collideR:+t.count,popularity:+t.popularity,numLinks:0}))));for(const t of c)l[t]=l[t]?l[t]+1:1;o=c.filter((t=>l[t]>3)).filter(((t,n,e)=>e.indexOf(t)===n)).sort(((t,n)=>l[n]>l[t])),console.log(o),e(0,a=o.map(((t,n)=>({name:t,checked:f.includes(t)}))))}));return[a,u,s,h,undefined,t=>t!==u.artistName,function(t){u=t,e(1,u)},function(t){a=t,e(0,a)}]}return new class extends et{constructor(t){super(),nt(this,t,Pr,Br,o,{})}}({target:document.body,props:{}})}();
