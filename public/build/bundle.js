var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function i(t){return"function"==typeof t}function o(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(n,...e){if(null==n)return t;const r=n.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function s(t,n,e){t.$$.on_destroy.push(a(n,e))}function u(t,n,e,r){if(t){const i=c(t,n,e,r);return t[0](i)}}function c(t,n,e,r){return t[1]&&r?function(t,n){for(const e in n)t[e]=n[e];return t}(e.ctx.slice(),t[1](r(n))):e.ctx}function l(t,n,e,r){if(t[2]&&r){const i=t[2](r(e));if(void 0===n.dirty)return i;if("object"==typeof i){const t=[],e=Math.max(n.dirty.length,i.length);for(let r=0;r<e;r+=1)t[r]=n.dirty[r]|i[r];return t}return n.dirty|i}return n.dirty}function h(t,n,e,r,i,o){if(i){const a=c(n,e,r,o);t.p(a,i)}}function f(t){if(t.ctx.length>32){const n=[],e=t.ctx.length/32;for(let t=0;t<e;t++)n[t]=-1;return n}return-1}function d(t,n){t.appendChild(n)}function g(t,n,e){t.insertBefore(n,e||null)}function p(t){t.parentNode.removeChild(t)}function y(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function m(t){return document.createElement(t)}function v(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function w(){return x(" ")}function $(){return x("")}function b(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function k(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function M(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}let N,_;function A(){if(void 0===N){N=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){N=!0}}return N}function z(t,n,e){t.classList[e?"add":"remove"](n)}function S(t){_=t}function R(){if(!_)throw new Error("Function called outside component initialization");return _}function D(t){return R().$$.context.get(t)}const E=[],T=[],j=[],C=[],B=Promise.resolve();let P=!1;function q(t){j.push(t)}function I(t){C.push(t)}let L=!1;const O=new Set;function H(){if(!L){L=!0;do{for(let t=0;t<E.length;t+=1){const n=E[t];S(n),F(n.$$)}for(S(null),E.length=0;T.length;)T.pop()();for(let t=0;t<j.length;t+=1){const n=j[t];O.has(n)||(O.add(n),n())}j.length=0}while(E.length);for(;C.length;)C.pop()();P=!1,L=!1,O.clear()}}function F(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(q)}}const W=new Set;let K;function G(){K={r:0,c:[],p:K}}function U(){K.r||r(K.c),K=K.p}function Y(t,n){t&&t.i&&(W.delete(t),t.i(n))}function X(t,n,e,r){if(t&&t.o){if(W.has(t))return;W.add(t),K.c.push((()=>{W.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}function Z(t,n,e){const r=t.$$.props[n];void 0!==r&&(t.$$.bound[r]=e,e(t.$$.ctx[r]))}function J(t){t&&t.c()}function V(t,e,o,a){const{fragment:s,on_mount:u,on_destroy:c,after_update:l}=t.$$;s&&s.m(e,o),a||q((()=>{const e=u.map(n).filter(i);c?c.push(...e):r(e),t.$$.on_mount=[]})),l.forEach(q)}function Q(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function tt(t,n){-1===t.$$.dirty[0]&&(E.push(t),P||(P=!0,B.then(H)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function nt(n,i,o,a,s,u,c,l=[-1]){const h=_;S(n);const f=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:s,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:i.context||[]),callbacks:e(),dirty:l,skip_bound:!1,root:i.target||h.$$.root};c&&c(f.root);let d=!1;if(f.ctx=o?o(n,i.props||{},((t,e,...r)=>{const i=r.length?r[0]:e;return f.ctx&&s(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),d&&tt(n,t)),e})):[],f.update(),d=!0,r(f.before_update),f.fragment=!!a&&a(f.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);f.fragment&&f.fragment.l(t),t.forEach(p)}else f.fragment&&f.fragment.c();i.intro&&Y(n.$$.fragment),V(n,i.target,i.anchor,i.customElement),H()}S(h)}class et{$destroy(){Q(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var rt={},it={};function ot(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function at(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function st(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function ut(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+st(-n,6):n>9999?"+"+st(n,6):st(n,4))+"-"+st(t.getUTCMonth()+1,2)+"-"+st(t.getUTCDate(),2)+(o?"T"+st(e,2)+":"+st(r,2)+":"+st(i,2)+"."+st(o,3)+"Z":i?"T"+st(e,2)+":"+st(r,2)+":"+st(i,2)+"Z":r||e?"T"+st(e,2)+":"+st(r,2)+"Z":"")}var ct=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,s=0,u=o<=0,c=!1;function l(){if(u)return it;if(c)return c=!1,rt;var n,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(n=a)>=o?u=!0:10===(r=t.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(n=a++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(a)&&++a;else if(r!==e)continue;return t.slice(i,n)}return u=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=l())!==it;){for(var h=[];r!==rt&&r!==it;)h.push(r),r=l();n&&null==(h=n(h,s++))||i.push(h)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return a(n[t])})).join(t)}))}function o(n){return n.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?ut(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=ot(t);return function(r,i){return n(e(r),i,t)}}(t,n):ot(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=at(n)),[e.map(a).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=at(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(","),lt=ct.parse;function ht(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function ft(t){return(t=ht(Math.abs(t)))?t[1]:NaN}var dt,gt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pt(t){if(!(n=gt.exec(t)))throw new Error("invalid format: "+t);var n;return new yt({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function yt(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function mt(t,n){var e=ht(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}pt.prototype=yt.prototype,yt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var vt={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>mt(100*t,n),r:mt,s:function(t,n){var e=ht(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(dt=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ht(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xt(t){return t}var wt,$t,bt,kt=Array.prototype.map,Mt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Nt(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?xt:(n=kt.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=n[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?xt:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(kt.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function h(t){var n=(t=pt(t)).fill,e=t.align,h=t.sign,f=t.symbol,d=t.zero,g=t.width,p=t.comma,y=t.precision,m=t.trim,v=t.type;"n"===v?(p=!0,v="g"):vt[v]||(void 0===y&&(y=12),m=!0,v="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var x="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===f?o:/[%p]/.test(v)?u:"",$=vt[v],b=/[defgprs%]/.test(v);function k(t){var i,o,u,f=x,k=w;if("c"===v)k=$(t)+k,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:$(Math.abs(t),y),m&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),M&&0==+t&&"+"!==h&&(M=!1),f=(M?"("===h?h:c:"-"===h||"("===h?"":h)+f,k=("s"===v?Mt[8+dt/3]:"")+k+(M&&"("===h?")":""),b)for(i=-1,o=t.length;++i<o;)if(48>(u=t.charCodeAt(i))||u>57){k=(46===u?a+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}p&&!d&&(t=r(t,1/0));var N=f.length+t.length+k.length,_=N<g?new Array(g-N+1).join(n):"";switch(p&&d&&(t=r(_+t,_.length?g-k.length:1/0),_=""),e){case"<":t=f+t+k+_;break;case"=":t=f+_+t+k;break;case"^":t=_.slice(0,N=_.length>>1)+f+t+k+_.slice(N);break;default:t=_+f+t+k}return s(t)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),k.toString=function(){return t+""},k}return{format:h,formatPrefix:function(t,n){var e=h(((t=pt(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ft(n)/3))),i=Math.pow(10,-r),o=Mt[8+r/3];return function(t){return e(i*t)+o}}}}function _t(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function At(t){let n=t,e=t;function r(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r}return 1===t.length&&(n=(n,e)=>t(n)-e,e=function(t){return(n,e)=>_t(t(n),e)}(t)),{left:r,center:function(t,e,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=r(t,e,i,o-1);return a>i&&n(t[a-1],e)>-n(t[a],e)?a-1:a},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}wt=Nt({thousands:",",grouping:[3],currency:["$",""]}),$t=wt.format,bt=wt.formatPrefix;const zt=At(_t).right;At((function(t){return null===t?NaN:+t})).center;var St=zt,Rt=Math.sqrt(50),Dt=Math.sqrt(10),Et=Math.sqrt(2);function Tt(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Rt?10:o>=Dt?5:o>=Et?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Rt?10:o>=Dt?5:o>=Et?2:1)}function jt(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}const Ct=Symbol("implicit");function Bt(){var t=new Map,n=[],e=[],r=Ct;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==Ct)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new Map;for(const r of e){const e=r+"";t.has(e)||t.set(e,n.push(r))}return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Bt(n,e).unknown(r)},jt.apply(i,arguments),i}function Pt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function qt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function It(){}var Lt=.7,Ot=1/Lt,Ht="\\s*([+-]?\\d+)\\s*",Ft="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kt=/^#([0-9a-f]{3,8})$/,Gt=new RegExp("^rgb\\("+[Ht,Ht,Ht]+"\\)$"),Ut=new RegExp("^rgb\\("+[Wt,Wt,Wt]+"\\)$"),Yt=new RegExp("^rgba\\("+[Ht,Ht,Ht,Ft]+"\\)$"),Xt=new RegExp("^rgba\\("+[Wt,Wt,Wt,Ft]+"\\)$"),Zt=new RegExp("^hsl\\("+[Ft,Wt,Wt]+"\\)$"),Jt=new RegExp("^hsla\\("+[Ft,Wt,Wt,Ft]+"\\)$"),Vt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Qt(){return this.rgb().formatHex()}function tn(){return this.rgb().formatRgb()}function nn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Kt.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?en(n):3===e?new sn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?rn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?rn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Gt.exec(t))?new sn(n[1],n[2],n[3],1):(n=Ut.exec(t))?new sn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Yt.exec(t))?rn(n[1],n[2],n[3],n[4]):(n=Xt.exec(t))?rn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Zt.exec(t))?hn(n[1],n[2]/100,n[3]/100,1):(n=Jt.exec(t))?hn(n[1],n[2]/100,n[3]/100,n[4]):Vt.hasOwnProperty(t)?en(Vt[t]):"transparent"===t?new sn(NaN,NaN,NaN,0):null}function en(t){return new sn(t>>16&255,t>>8&255,255&t,1)}function rn(t,n,e,r){return r<=0&&(t=n=e=NaN),new sn(t,n,e,r)}function on(t){return t instanceof It||(t=nn(t)),t?new sn((t=t.rgb()).r,t.g,t.b,t.opacity):new sn}function an(t,n,e,r){return 1===arguments.length?on(t):new sn(t,n,e,null==r?1:r)}function sn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function un(){return"#"+ln(this.r)+ln(this.g)+ln(this.b)}function cn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ln(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function hn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new dn(t,n,e,r)}function fn(t){if(t instanceof dn)return new dn(t.h,t.s,t.l,t.opacity);if(t instanceof It||(t=nn(t)),!t)return new dn;if(t instanceof dn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=n===o?(e-r)/s+6*(e<r):e===o?(r-n)/s+2:(n-e)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new dn(a,s,u,t.opacity)}function dn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function gn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}Pt(It,nn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Qt,formatHex:Qt,formatHsl:function(){return fn(this).formatHsl()},formatRgb:tn,toString:tn}),Pt(sn,an,qt(It,{brighter:function(t){return t=null==t?Ot:Math.pow(Ot,t),new sn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Lt:Math.pow(Lt,t),new sn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:un,formatHex:un,formatRgb:cn,toString:cn})),Pt(dn,(function(t,n,e,r){return 1===arguments.length?fn(t):new dn(t,n,e,null==r?1:r)}),qt(It,{brighter:function(t){return t=null==t?Ot:Math.pow(Ot,t),new dn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Lt:Math.pow(Lt,t),new dn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new sn(gn(t>=240?t-240:t+120,i,r),gn(t,i,r),gn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var pn=t=>()=>t;function yn(t){return 1==(t=+t)?mn:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):pn(isNaN(n)?e:n)}}function mn(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):pn(isNaN(t)?n:t)}var vn=function t(n){var e=yn(n);function r(t,n){var r=e((t=an(t)).r,(n=an(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=mn(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function xn(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function wn(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=An(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function $n(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function bn(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function kn(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=An(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var Mn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nn=new RegExp(Mn.source,"g");function _n(t,n){var e,r,i,o=Mn.lastIndex=Nn.lastIndex=0,a=-1,s=[],u=[];for(t+="",n+="";(e=Mn.exec(t))&&(r=Nn.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(e=e[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:bn(e,r)})),o=Nn.lastIndex;return o<n.length&&(i=n.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(n){return t(n)+""}}(u[0].x):function(t){return function(){return t}}(n):(n=u.length,function(t){for(var e,r=0;r<n;++r)s[(e=u[r]).i]=e.x(t);return s.join("")})}function An(t,n){var e,r=typeof n;return null==n||"boolean"===r?pn(n):("number"===r?bn:"string"===r?(e=nn(n))?(n=e,vn):_n:n instanceof nn?vn:n instanceof Date?$n:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?xn:Array.isArray(n)?wn:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?kn:bn)(t,n)}function zn(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function Sn(t){return+t}var Rn=[0,1];function Dn(t){return t}function En(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function Tn(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=En(i,r),o=e(a,o)):(r=En(r,i),o=e(o,a)),function(t){return o(r(t))}}function jn(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=En(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=St(t,n,1,r)-1;return o[e](i[e](n))}}function Cn(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Bn(){var t,n,e,r,i,o,a=Rn,s=Rn,u=An,c=Dn;function l(){var t=Math.min(a.length,s.length);return c!==Dn&&(c=function(t,n){var e;return t>n&&(e=t,t=n,n=e),function(e){return Math.max(t,Math.min(n,e))}}(a[0],a[t-1])),r=t>2?jn:Tn,i=o=null,h}function h(n){return null==n||isNaN(n=+n)?e:(i||(i=r(a.map(t),s,u)))(t(c(n)))}return h.invert=function(e){return c(n((o||(o=r(s,a.map(t),bn)))(e)))},h.domain=function(t){return arguments.length?(a=Array.from(t,Sn),l()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),l()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),u=zn,l()},h.clamp=function(t){return arguments.length?(c=!!t||Dn,l()):c!==Dn},h.interpolate=function(t){return arguments.length?(u=t,l()):u},h.unknown=function(t){return arguments.length?(e=t,h):e},function(e,r){return t=e,n=r,l()}}function Pn(){return Bn()(Dn,Dn)}function qn(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Rt?i*=10:o>=Dt?i*=5:o>=Et&&(i*=2),n<t?-i:i}(t,n,e);switch((r=pt(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ft(n)/3)))-ft(Math.abs(t)))}(o,a))||(r.precision=i),bt(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,ft(n)-ft(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-ft(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return $t(r)}function In(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,a,s=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=Tt(t,n,e))||!isFinite(a))return[];if(a>0){let e=Math.round(t/a),r=Math.round(n/a);for(e*a<t&&++e,r*a>n&&--r,o=new Array(i=r-e+1);++s<i;)o[s]=(e+s)*a}else{a=-a;let e=Math.round(t*a),r=Math.round(n*a);for(e/a<t&&++e,r/a>n&&--r,o=new Array(i=r-e+1);++s<i;)o[s]=(e+s)/a}return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return qn(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,s=o.length-1,u=o[a],c=o[s],l=10;for(c<u&&(i=u,u=c,c=i,i=a,a=s,s=i);l-- >0;){if((i=Tt(u,c,e))===r)return o[a]=u,o[s]=c,n(o);if(i>0)u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Ln(){var t=Pn();return t.copy=function(){return Cn(t,Ln())},jt.apply(t,arguments),In(t)}function On(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Hn(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Fn(t){return t<0?-t*t:t*t}function Wn(t){var n=t(Dn,Dn),e=1;function r(){return 1===e?t(Dn,Dn):.5===e?t(Hn,Fn):t(On(e),On(1/e))}return n.exponent=function(t){return arguments.length?(e=+t,r()):e},In(n)}function Kn(){var t=Wn(Bn());return t.copy=function(){return Cn(t,Kn()).exponent(t.exponent())},jt.apply(t,arguments),t}const Gn=[];function Un(n,e=t){let r;const i=new Set;function a(t){if(o(n,t)&&(n=t,r)){const t=!Gn.length;for(const t of i)t[1](),Gn.push(t,n);if(t){for(let t=0;t<Gn.length;t+=2)Gn[t][0](Gn[t+1]);Gn.length=0}}}return{set:a,update:function(t){a(t(n))},subscribe:function(o,s=t){const u=[o,s];return i.add(u),1===i.size&&(r=e(a)||t),o(n),()=>{i.delete(u),0===i.size&&(r(),r=null)}}}}function Yn(n,e,o){const s=!Array.isArray(n),u=s?[n]:n,c=e.length<2;return l=n=>{let o=!1;const l=[];let h=0,f=t;const d=()=>{if(h)return;f();const r=e(s?l[0]:l,n);c?n(r):f=i(r)?r:t},g=u.map(((t,n)=>a(t,(t=>{l[n]=t,h&=~(1<<n),o&&d()}),(()=>{h|=1<<n}))));return o=!0,d(),function(){r(g),f()}},{subscribe:Un(o,l).subscribe};var l}function Xn(t){return 0===(n=t)||n?Array.isArray(t)?n=>t.map((t=>"function"!=typeof t?n[t]:t(n))):"function"!=typeof t?n=>n[t]:t:null;var n}function Zn(t,n={}){return function(t){const n={};for(const e of t){if(Object(e)!==e)throw new TypeError("iterable for fromEntries should yield objects");const{0:t,1:r}=e;Object.defineProperty(n,t,{configurable:!0,enumerable:!0,writable:!0,value:r})}return n}(Object.entries(t).filter((([t,e])=>void 0!==e&&void 0===n[t])))}function Jn(t,n){if(!Array.isArray(t))throw new TypeError("The first argument of calcExtents() must be an array.");if(Array.isArray(n)||null==n)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const e={},r=Object.keys(n),i=r.length;let o,a,s,u,c,l,h,f;const d=t.length;for(o=0;o<i;o+=1){for(u=r[o],h=n[u],c=null,l=null,a=0;a<d;a+=1)if(f=h(t[a]),Array.isArray(f)){const t=f.length;for(s=0;s<t;s+=1)void 0!==f[s]&&null!==f[s]&&!1===Number.isNaN(f[s])&&((null===c||f[s]<c)&&(c=f[s]),(null===l||f[s]>l)&&(l=f[s]))}else null!=f&&!1===Number.isNaN(f)&&((null===c||f<c)&&(c=f),(null===l||f>l)&&(l=f));e[u]=[c,l]}return e}function Vn(t=[],n){return!0===Array.isArray(n)?n.map(((n,e)=>null===n?t[e]:n)):t}function Qn(t){return function([n,e]){return n?Vn(n[t],e):e}}var te={x:Ln,y:Ln,z:Ln,r:function(){return Kn.apply(null,arguments).exponent(.5)}};function ne(t){return t}function ee(t){return n=>Math.log(t*n)}function re(t){return n=>t*Math.exp(n)}function ie(t){return n=>Math.sign(n)*Math.log1p(Math.abs(n/t))}function oe(t){return n=>Math.sign(n)*Math.expm1(Math.abs(n))*t}function ae(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function se(t,n){if("function"!=typeof t.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(n))return t.domain();2!==t.domain().length&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",t.domain()),2!==t.range().length&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",t.range());const{lift:e,ground:r}=function(t){const n=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===n){const e=Math.sign(t.domain()[0]);return{lift:ee(e),ground:re(e),scaleType:n}}if("pow"===n){const t=1;return{lift:ae(t),ground:ae(1/t),scaleType:n}}if("sqrt"===n){const t=.5;return{lift:ae(t),ground:ae(1/t),scaleType:n}}if("symlog"===n){const t=1;return{lift:ie(t),ground:oe(t),scaleType:n}}return{lift:ne,ground:ne,scaleType:n}}(t),i=t.domain()[0],o="[object Date]"===Object.prototype.toString.call(i),[a,s]=t.domain().map((t=>e(o?t.getTime():t))),[u,c]=t.range(),l=n[0]||0,h=n[1]||0,f=(s-a)/(Math.abs(c-u)-l-h);return[a-l*f,h*f+s].map((t=>r(o?new Date(t):t)))}function ue(t){return function([n,e,r,i,o,a,s,u,c,l]){if(null===e)return null;const h=function(t,n,e,r,i,o){return i?"function"==typeof i?i({width:n,height:e}):i:function(t,n,e,r,i){let o,a;return!0===i?(o=0,a=100):(o="r"===t?1:0,a="y"===t?e:"r"===t?25:n),!0===r?[a,o]:[o,a]}(t,n,e,r,o)}(t,s,u,a,c,l),f=n===te[t]?n():n.copy();return f.domain(Vn(e[t],r)).range(h),i&&f.domain(se(f,i)),!0===o&&("function"==typeof f.nice?f.nice():console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),f}}function ce([t,n]){return e=>{const r=t(e);return Array.isArray(r)?r.map((t=>n(t))):n(r)}}function le([t]){if("function"==typeof t){if("function"==typeof t.range)return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}var he={x:!1,y:!0,z:!1,r:!1};const fe=t=>({element:4&t[0],width:64&t[0],height:128&t[0],aspectRatio:256&t[0],containerWidth:512&t[0],containerHeight:1024&t[0]}),de=t=>({element:t[2],width:t[6],height:t[7],aspectRatio:t[8],containerWidth:t[9],containerHeight:t[10]});function ge(t){let n,e,r,i;const o=t[54].default,a=u(o,t,t[53],de);return{c(){n=m("div"),a&&a.c(),k(n,"class","layercake-container svelte-vhzpsp"),k(n,"style",e="position:"+t[5]+"; "+("absolute"===t[5]?"top:0;right:0;bottom:0;left:0;":"")+" "+(!1===t[4]?"pointer-events:none;":"")),q((()=>t[56].call(n)))},m(e,o){g(e,n,o),a&&a.m(n,null),t[55](n),r=function(t,n){"static"===getComputedStyle(t).position&&(t.style.position="relative");const e=m("iframe");e.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),e.setAttribute("aria-hidden","true"),e.tabIndex=-1;const r=A();let i;return r?(e.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=b(window,"message",(t=>{t.source===e.contentWindow&&n()}))):(e.src="about:blank",e.onload=()=>{i=b(e.contentWindow,"resize",n)}),d(t,e),()=>{(r||i&&e.contentWindow)&&i(),p(e)}}(n,t[56].bind(n)),i=!0},p(t,r){a&&a.p&&(!i||1988&r[0]|4194304&r[1])&&h(a,o,t,t[53],i?l(o,t[53],r,fe):f(t[53]),de),(!i||48&r[0]&&e!==(e="position:"+t[5]+"; "+("absolute"===t[5]?"top:0;right:0;bottom:0;left:0;":"")+" "+(!1===t[4]?"pointer-events:none;":"")))&&k(n,"style",e)},i(t){i||(Y(a,t),i=!0)},o(t){X(a,t),i=!1},d(e){e&&p(n),a&&a.d(e),t[55](null),r()}}}function pe(t){let n,e,r=(!0===t[3]||"undefined"!=typeof window)&&ge(t);return{c(){r&&r.c(),n=$()},m(t,i){r&&r.m(t,i),g(t,n,i),e=!0},p(t,e){!0===t[3]||"undefined"!=typeof window?r?(r.p(t,e),8&e[0]&&Y(r,1)):(r=ge(t),r.c(),Y(r,1),r.m(n.parentNode,n)):r&&(G(),X(r,1,1,(()=>{r=null})),U())},i(t){e||(Y(r),e=!0)},o(t){X(r),e=!1},d(t){r&&r.d(t),t&&p(n)}}}function ye(t,n,e){let r,i,o,a,u,c,{$$slots:l={},$$scope:h}=n,{ssr:f=!1}=n,{pointerEvents:d=!0}=n,{position:g="relative"}=n,{percentRange:p=!1}=n,{width:y}=n,{height:m}=n,{containerWidth:v=y||100}=n,{containerHeight:x=m||100}=n,{element:w}=n,{x:$}=n,{y:b}=n,{z:k}=n,{r:M}=n,{custom:N={}}=n,{data:_=[]}=n,{xDomain:A}=n,{yDomain:z}=n,{zDomain:S}=n,{rDomain:D}=n,{xNice:E=!1}=n,{yNice:j=!1}=n,{zNice:C=!1}=n,{rNice:B=!1}=n,{xReverse:P=he.x}=n,{yReverse:q=he.y}=n,{zReverse:I=he.z}=n,{rReverse:L=he.r}=n,{xPadding:O}=n,{yPadding:H}=n,{zPadding:F}=n,{rPadding:W}=n,{xScale:K=te.x}=n,{yScale:G=te.y}=n,{zScale:U=te.y}=n,{rScale:Y=te.r}=n,{xRange:X}=n,{yRange:Z}=n,{zRange:J}=n,{rRange:V}=n,{padding:Q={}}=n,{extents:tt={}}=n,{flatData:nt}=n;const et={},rt=Un(),it=Un();s(t,it,(t=>e(9,u=t)));const ot=Un();s(t,ot,(t=>e(10,c=t)));const at=Un(),st=Un(),ut=Un(),ct=Un(),lt=Un(),ht=Un(),ft=Un(),dt=Un(),gt=Un(),pt=Un(),yt=Un(),mt=Un(),vt=Un(),xt=Un(),wt=Un(),$t=Un(),bt=Un(),kt=Un(),Mt=Un(),Nt=Un(),_t=Un(),At=Un(),zt=Un(),St=Un(),Rt=Un(),Dt=Un(),Et=Un(),Tt=Un(),jt=Un(),Ct=Un(),Bt=Un(),Pt=Un(),qt=Un(),It=Un(et),Lt=Yn([at,st,ut,ct],(([t,n,e,r])=>{const i={};return t&&(i.x=t),n&&(i.y=n),e&&(i.z=e),r&&(i.r=r),i})),Ot=Yn([Bt,it,ot],(([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t))),Ht=Yn([it,ot,Ot],(([t,n,e])=>{const r={};return r.top=e.top,r.right=t-e.right,r.bottom=n-e.bottom,r.left=e.left,r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<=0&&console.error("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),r.height<=0&&console.error("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),r})),Ft=Yn([Ht],(([t])=>t.width));s(t,Ft,(t=>e(6,i=t)));const Wt=Yn([Ht],(([t])=>t.height));s(t,Wt,(t=>e(7,o=t)));const Kt=Yn([Pt,Lt,qt],(([t,n,e])=>({...Jn(t,Zn(n,e)),...e}))),Gt=Yn([Kt,ft],Qn("x")),Ut=Yn([Kt,dt],Qn("y")),Yt=Yn([Kt,gt],Qn("z")),Xt=Yn([Kt,pt],Qn("r")),Zt=Yn([zt,Kt,Gt,Mt,yt,wt,Ft,Wt,Et,rt],ue("x")),Jt=Yn([at,Zt],ce),Vt=Yn([St,Kt,Ut,Nt,mt,$t,Ft,Wt,Tt,rt],ue("y")),Qt=Yn([st,Vt],ce),tn=Yn([Rt,Kt,Yt,_t,vt,bt,Ft,Wt,jt,rt],ue("z")),nn=Yn([ut,tn],ce),en=Yn([Dt,Kt,Xt,At,xt,kt,Ft,Wt,Ct,rt],ue("r")),rn=Yn([ct,en],ce),on=Yn([Zt],le),an=Yn([Vt],le),sn=Yn([tn],le),un=Yn([en],le),cn=Yn([Ft,Wt],(([t,n,e])=>n/e));return s(t,cn,(t=>e(8,a=t))),t.$$set=t=>{"ssr"in t&&e(3,f=t.ssr),"pointerEvents"in t&&e(4,d=t.pointerEvents),"position"in t&&e(5,g=t.position),"percentRange"in t&&e(16,p=t.percentRange),"width"in t&&e(17,y=t.width),"height"in t&&e(18,m=t.height),"containerWidth"in t&&e(0,v=t.containerWidth),"containerHeight"in t&&e(1,x=t.containerHeight),"element"in t&&e(2,w=t.element),"x"in t&&e(19,$=t.x),"y"in t&&e(20,b=t.y),"z"in t&&e(21,k=t.z),"r"in t&&e(22,M=t.r),"custom"in t&&e(23,N=t.custom),"data"in t&&e(24,_=t.data),"xDomain"in t&&e(25,A=t.xDomain),"yDomain"in t&&e(26,z=t.yDomain),"zDomain"in t&&e(27,S=t.zDomain),"rDomain"in t&&e(28,D=t.rDomain),"xNice"in t&&e(29,E=t.xNice),"yNice"in t&&e(30,j=t.yNice),"zNice"in t&&e(31,C=t.zNice),"rNice"in t&&e(32,B=t.rNice),"xReverse"in t&&e(33,P=t.xReverse),"yReverse"in t&&e(34,q=t.yReverse),"zReverse"in t&&e(35,I=t.zReverse),"rReverse"in t&&e(36,L=t.rReverse),"xPadding"in t&&e(37,O=t.xPadding),"yPadding"in t&&e(38,H=t.yPadding),"zPadding"in t&&e(39,F=t.zPadding),"rPadding"in t&&e(40,W=t.rPadding),"xScale"in t&&e(41,K=t.xScale),"yScale"in t&&e(42,G=t.yScale),"zScale"in t&&e(43,U=t.zScale),"rScale"in t&&e(44,Y=t.rScale),"xRange"in t&&e(45,X=t.xRange),"yRange"in t&&e(46,Z=t.yRange),"zRange"in t&&e(47,J=t.zRange),"rRange"in t&&e(48,V=t.rRange),"padding"in t&&e(49,Q=t.padding),"extents"in t&&e(50,tt=t.extents),"flatData"in t&&e(51,nt=t.flatData),"$$scope"in t&&e(53,h=t.$$scope)},t.$$.update=()=>{524288&t.$$.dirty[0]&&$&&(et.x=$),1048576&t.$$.dirty[0]&&b&&(et.y=b),2097152&t.$$.dirty[0]&&k&&(et.z=k),4194304&t.$$.dirty[0]&&M&&(et.r=M),33554432&t.$$.dirty[0]&&A&&(et.xDomain=A),67108864&t.$$.dirty[0]&&z&&(et.yDomain=z),134217728&t.$$.dirty[0]&&S&&(et.zDomain=S),268435456&t.$$.dirty[0]&&D&&(et.rDomain=D),16384&t.$$.dirty[1]&&X&&(et.xRange=X),32768&t.$$.dirty[1]&&Z&&(et.yRange=Z),65536&t.$$.dirty[1]&&J&&(et.zRange=J),131072&t.$$.dirty[1]&&V&&(et.rRange=V),65536&t.$$.dirty[0]&&rt.set(p),1&t.$$.dirty[0]&&it.set(v),2&t.$$.dirty[0]&&ot.set(x),524288&t.$$.dirty[0]&&at.set(Xn($)),1048576&t.$$.dirty[0]&&st.set(Xn(b)),2097152&t.$$.dirty[0]&&ut.set(Xn(k)),4194304&t.$$.dirty[0]&&ct.set(Xn(M)),33554432&t.$$.dirty[0]&&ft.set(A),67108864&t.$$.dirty[0]&&dt.set(z),134217728&t.$$.dirty[0]&&gt.set(S),268435456&t.$$.dirty[0]&&pt.set(D),8388608&t.$$.dirty[0]&&lt.set(N),16777216&t.$$.dirty[0]&&ht.set(_),536870912&t.$$.dirty[0]&&yt.set(E),1073741824&t.$$.dirty[0]&&mt.set(j),1&t.$$.dirty[1]&&vt.set(C),2&t.$$.dirty[1]&&xt.set(B),4&t.$$.dirty[1]&&wt.set(P),8&t.$$.dirty[1]&&$t.set(q),16&t.$$.dirty[1]&&bt.set(I),32&t.$$.dirty[1]&&kt.set(L),64&t.$$.dirty[1]&&Mt.set(O),128&t.$$.dirty[1]&&Nt.set(H),256&t.$$.dirty[1]&&_t.set(F),512&t.$$.dirty[1]&&At.set(W),1024&t.$$.dirty[1]&&zt.set(K),2048&t.$$.dirty[1]&&St.set(G),4096&t.$$.dirty[1]&&Rt.set(U),8192&t.$$.dirty[1]&&Dt.set(Y),16384&t.$$.dirty[1]&&Et.set(X),32768&t.$$.dirty[1]&&Tt.set(Z),65536&t.$$.dirty[1]&&jt.set(J),131072&t.$$.dirty[1]&&Ct.set(V),262144&t.$$.dirty[1]&&Bt.set(Q),524288&t.$$.dirty[1]&&qt.set(Zn(tt)),16777216&t.$$.dirty[0]|1048576&t.$$.dirty[1]&&Pt.set(nt||_),2097152&t.$$.dirty[1]&&function(t,n){R().$$.context.set(t,n)}("LayerCake",r)},e(52,r={activeGetters:Lt,width:Ft,height:Wt,percentRange:rt,aspectRatio:cn,containerWidth:it,containerHeight:ot,x:at,y:st,z:ut,r:ct,custom:lt,data:ht,xNice:yt,yNice:mt,zNice:vt,rNice:xt,xReverse:wt,yReverse:$t,zReverse:bt,rReverse:kt,xPadding:Mt,yPadding:Nt,zPadding:_t,rPadding:At,padding:Ot,flatData:Pt,extents:Kt,xDomain:Gt,yDomain:Ut,zDomain:Yt,rDomain:Xt,xRange:on,yRange:an,zRange:sn,rRange:un,config:It,xScale:Zt,xGet:Jt,yScale:Vt,yGet:Qt,zScale:tn,zGet:nn,rScale:en,rGet:rn}),[v,x,w,f,d,g,i,o,a,u,c,it,ot,Ft,Wt,cn,p,y,m,$,b,k,M,N,_,A,z,S,D,E,j,C,B,P,q,I,L,O,H,F,W,K,G,U,Y,X,Z,J,V,Q,tt,nt,r,h,l,function(t){T[t?"unshift":"push"]((()=>{w=t,e(2,w)}))},function(){v=this.clientWidth,x=this.clientHeight,e(0,v),e(1,x)}]}class me extends et{constructor(t){super(),nt(this,t,ye,pe,o,{ssr:3,pointerEvents:4,position:5,percentRange:16,width:17,height:18,containerWidth:0,containerHeight:1,element:2,x:19,y:20,z:21,r:22,custom:23,data:24,xDomain:25,yDomain:26,zDomain:27,rDomain:28,xNice:29,yNice:30,zNice:31,rNice:32,xReverse:33,yReverse:34,zReverse:35,rReverse:36,xPadding:37,yPadding:38,zPadding:39,rPadding:40,xScale:41,yScale:42,zScale:43,rScale:44,xRange:45,yRange:46,zRange:47,rRange:48,padding:49,extents:50,flatData:51},null,[-1,-1,-1,-1])}}const ve=t=>({element:1&t}),xe=t=>({element:t[0]}),we=t=>({element:1&t}),$e=t=>({element:t[0]});function be(t){let n,e,r,i,o,a;const s=t[13].defs,c=u(s,t,t[12],$e),y=t[13].default,m=u(y,t,t[12],xe);return{c(){n=v("svg"),e=v("defs"),c&&c.c(),r=v("g"),m&&m.c(),k(r,"class","layercake-layout-svg_g"),k(r,"transform",i="translate("+t[6].left+", "+t[6].top+")"),k(n,"class","layercake-layout-svg svelte-u84d8d"),k(n,"viewBox",t[1]),k(n,"width",t[4]),k(n,"height",t[5]),k(n,"style",o=""+(t[2]+t[3]))},m(i,o){g(i,n,o),d(n,e),c&&c.m(e,null),d(n,r),m&&m.m(r,null),t[14](n),a=!0},p(t,[e]){c&&c.p&&(!a||4097&e)&&h(c,s,t,t[12],a?l(s,t[12],e,we):f(t[12]),$e),m&&m.p&&(!a||4097&e)&&h(m,y,t,t[12],a?l(y,t[12],e,ve):f(t[12]),xe),(!a||64&e&&i!==(i="translate("+t[6].left+", "+t[6].top+")"))&&k(r,"transform",i),(!a||2&e)&&k(n,"viewBox",t[1]),(!a||16&e)&&k(n,"width",t[4]),(!a||32&e)&&k(n,"height",t[5]),(!a||12&e&&o!==(o=""+(t[2]+t[3])))&&k(n,"style",o)},i(t){a||(Y(c,t),Y(m,t),a=!0)},o(t){X(c,t),X(m,t),a=!1},d(e){e&&p(n),c&&c.d(e),m&&m.d(e),t[14](null)}}}function ke(t,n,e){let r,i,o,{$$slots:a={},$$scope:u}=n,{element:c}=n,{viewBox:l}=n,{zIndex:h}=n,{pointerEvents:f}=n,d="",g="";const{containerWidth:p,containerHeight:y,padding:m}=D("LayerCake");return s(t,p,(t=>e(4,r=t))),s(t,y,(t=>e(5,i=t))),s(t,m,(t=>e(6,o=t))),t.$$set=t=>{"element"in t&&e(0,c=t.element),"viewBox"in t&&e(1,l=t.viewBox),"zIndex"in t&&e(10,h=t.zIndex),"pointerEvents"in t&&e(11,f=t.pointerEvents),"$$scope"in t&&e(12,u=t.$$scope)},t.$$.update=()=>{1024&t.$$.dirty&&e(2,d=void 0!==h?`z-index:${h};`:""),2048&t.$$.dirty&&e(3,g=!1===f?"pointer-events:none;":"")},[c,l,d,g,r,i,o,p,y,m,h,f,u,a,function(t){T[t?"unshift":"push"]((()=>{c=t,e(0,c)}))}]}class Me extends et{constructor(t){super(),nt(this,t,ke,be,o,{element:0,viewBox:1,zIndex:10,pointerEvents:11})}}function Ne(t){let n;const e=t[4].default,r=u(e,t,t[5],null);return{c(){r&&r.c()},m(t,e){r&&r.m(t,e),n=!0},p(t,i){r&&r.p&&(!n||32&i)&&h(r,e,t,t[5],n?l(e,t[5],i,null):f(t[5]),null)},i(t){n||(Y(r,t),n=!0)},o(t){X(r,t),n=!1},d(t){r&&r.d(t)}}}function _e(t){let n,e;return n=new Me({props:{$$slots:{default:[Ne]},$$scope:{ctx:t}}}),{c(){J(n.$$.fragment)},m(t,r){V(n,t,r),e=!0},p(t,e){const r={};32&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(Y(n.$$.fragment,t),e=!0)},o(t){X(n.$$.fragment,t),e=!1},d(t){Q(n,t)}}}function Ae(t){let n,e;return n=new me({props:{padding:t[1]?.padding||{right:8,bottom:32,left:32,top:8},x:t[1]?.xKey||"key",y:t[1]?.yKey||"value",z:t[1]?.zKey,r:t[1]?.rKey,xScale:t[1]?.xScale,zScale:t[1]?.zScale,xDomain:t[1]?.xDomain,yDomain:t[1]?.yDomain,zDomain:t[1]?.zDomain,rDomain:t[2],zRange:t[1]?.zRange,data:t[0],flatData:t[0].flat(),$$slots:{default:[_e]},$$scope:{ctx:t}}}),{c(){J(n.$$.fragment)},m(t,r){V(n,t,r),e=!0},p(t,[e]){const r={};2&e&&(r.padding=t[1]?.padding||{right:8,bottom:32,left:32,top:8}),2&e&&(r.x=t[1]?.xKey||"key"),2&e&&(r.y=t[1]?.yKey||"value"),2&e&&(r.z=t[1]?.zKey),2&e&&(r.r=t[1]?.rKey),2&e&&(r.xScale=t[1]?.xScale),2&e&&(r.zScale=t[1]?.zScale),2&e&&(r.xDomain=t[1]?.xDomain),2&e&&(r.yDomain=t[1]?.yDomain),2&e&&(r.zDomain=t[1]?.zDomain),4&e&&(r.rDomain=t[2]),2&e&&(r.zRange=t[1]?.zRange),1&e&&(r.data=t[0]),1&e&&(r.flatData=t[0].flat()),32&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(Y(n.$$.fragment,t),e=!0)},o(t){X(n.$$.fragment,t),e=!1},d(t){Q(n,t)}}}function ze(t,n,e){let r,i,{$$slots:o={},$$scope:a}=n,{data:s}=n,{config:u}=n;return t.$$set=t=>{"data"in t&&e(0,s=t.data),"config"in t&&e(1,u=t.config),"$$scope"in t&&e(5,a=t.$$scope)},t.$$.update=()=>{3&t.$$.dirty&&e(3,r=Math.max(...s.flat().map((t=>t[u?.rKey])))),8&t.$$.dirty&&e(2,i=[1,r])},[s,u,i,r,o,a]}class Se extends et{constructor(t){super(),nt(this,t,ze,Ae,o,{data:0,config:1})}}function Re(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,s,u,c,l,h,f,d=t._root,g={data:r},p=t._x0,y=t._y0,m=t._x1,v=t._y1;if(!d)return t._root=g,t;for(;d.length;)if((c=n>=(o=(p+m)/2))?p=o:m=o,(l=e>=(a=(y+v)/2))?y=a:v=a,i=d,!(d=d[h=l<<1|c]))return i[h]=g,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),n===s&&e===u)return g.next=d,i?i[h]=g:t._root=g,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=n>=(o=(p+m)/2))?p=o:m=o,(l=e>=(a=(y+v)/2))?y=a:v=a}while((h=l<<1|c)==(f=(u>=a)<<1|s>=o));return i[f]=d,i[h]=g,t}function De(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function Ee(t){return t[0]}function Te(t){return t[1]}function je(t,n,e){var r=new Ce(null==n?Ee:n,null==e?Te:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Ce(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Be(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var Pe=je.prototype=Ce.prototype;function qe(t){return function(){return t}}function Ie(t){return 1e-6*(t()-.5)}function Le(t){return t.x+t.vx}function Oe(t){return t.y+t.vy}function He(t){return t.index}function Fe(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}Pe.copy=function(){var t,n,e=new Ce(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=Be(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=Be(n));return e},Pe.add=function(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return Re(this.cover(n,e),n,e,t)},Pe.addAll=function(t){var n,e,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,c=1/0,l=-1/0,h=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=r,s[e]=i,r<u&&(u=r),r>l&&(l=r),i<c&&(c=i),i>h&&(h=i));if(u>l||c>h)return this;for(this.cover(u,c).cover(l,h),e=0;e<o;++e)Re(this,a[e],s[e],t[e]);return this},Pe.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var a,s,u=i-e||1,c=this._root;e>t||t>=i||r>n||n>=o;)switch(s=(n<r)<<1|t<e,(a=new Array(4))[s]=c,c=a,u*=2,s){case 0:i=e+u,o=r+u;break;case 1:e=i-u,o=r+u;break;case 2:i=e+u,r=o-u;break;case 3:e=i-u,r=o-u}this._root&&this._root.length&&(this._root=c)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},Pe.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},Pe.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Pe.find=function(t,n,e){var r,i,o,a,s,u,c,l=this._x0,h=this._y0,f=this._x1,d=this._y1,g=[],p=this._root;for(p&&g.push(new De(p,l,h,f,d)),null==e?e=1/0:(l=t-e,h=n-e,f=t+e,d=n+e,e*=e);u=g.pop();)if(!(!(p=u.node)||(i=u.x0)>f||(o=u.y0)>d||(a=u.x1)<l||(s=u.y1)<h))if(p.length){var y=(i+a)/2,m=(o+s)/2;g.push(new De(p[3],y,m,a,s),new De(p[2],i,m,y,s),new De(p[1],y,o,a,m),new De(p[0],i,o,y,m)),(c=(n>=m)<<1|t>=y)&&(u=g[g.length-1],g[g.length-1]=g[g.length-1-c],g[g.length-1-c]=u)}else{var v=t-+this._x.call(null,p.data),x=n-+this._y.call(null,p.data),w=v*v+x*x;if(w<e){var $=Math.sqrt(e=w);l=t-$,h=n-$,f=t+$,d=n+$,r=p.data}}return r},Pe.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,s,u,c,l,h,f,d=this._root,g=this._x0,p=this._y0,y=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(s=(g+y)/2))?g=s:y=s,(l=a>=(u=(p+m)/2))?p=u:m=u,n=d,!(d=d[h=l<<1|c]))return this;if(!d.length)break;(n[h+1&3]||n[h+2&3]||n[h+3&3])&&(e=n,f=h)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[h]=i:delete n[h],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[f]=d:this._root=d),this):(this._root=i,this)},Pe.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},Pe.root=function(){return this._root},Pe.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},Pe.visit=function(t){var n,e,r,i,o,a,s=[],u=this._root;for(u&&s.push(new De(u,this._x0,this._y0,this._x1,this._y1));n=s.pop();)if(!t(u=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&u.length){var c=(r+o)/2,l=(i+a)/2;(e=u[3])&&s.push(new De(e,c,l,o,a)),(e=u[2])&&s.push(new De(e,r,l,c,a)),(e=u[1])&&s.push(new De(e,c,i,o,l)),(e=u[0])&&s.push(new De(e,r,i,c,l))}return this},Pe.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new De(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,s=n.y0,u=n.x1,c=n.y1,l=(a+u)/2,h=(s+c)/2;(o=i[0])&&e.push(new De(o,a,s,l,h)),(o=i[1])&&e.push(new De(o,l,s,u,h)),(o=i[2])&&e.push(new De(o,a,h,l,c)),(o=i[3])&&e.push(new De(o,l,h,u,c))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},Pe.x=function(t){return arguments.length?(this._x=t,this):this._x},Pe.y=function(t){return arguments.length?(this._y=t,this):this._y};var We={value:()=>{}};function Ke(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Ge(r)}function Ge(t){this._=t}function Ue(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function Ye(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Xe(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=We,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}Ge.prototype=Ke.prototype={constructor:Ge,on:function(t,n){var e,r=this._,i=Ue(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=Xe(r[e],t.name,n);else if(null==n)for(e in r)r[e]=Xe(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=Ye(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Ge(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var Ze,Je,Ve=0,Qe=0,tr=0,nr=0,er=0,rr=0,ir="object"==typeof performance&&performance.now?performance:Date,or="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ar(){return er||(or(sr),er=ir.now()+rr)}function sr(){er=0}function ur(){this._call=this._time=this._next=null}function cr(t,n,e){var r=new ur;return r.restart(t,n,e),r}function lr(){er=(nr=ir.now())+rr,Ve=Qe=0;try{!function(){ar(),++Ve;for(var t,n=Ze;n;)(t=er-n._time)>=0&&n._call.call(null,t),n=n._next;--Ve}()}finally{Ve=0,function(){var t,n,e=Ze,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ze=n);Je=t,fr(r)}(),er=0}}function hr(){var t=ir.now(),n=t-nr;n>1e3&&(rr-=n,nr=t)}function fr(t){Ve||(Qe&&(Qe=clearTimeout(Qe)),t-er>24?(t<1/0&&(Qe=setTimeout(lr,t-ir.now()-rr)),tr&&(tr=clearInterval(tr))):(tr||(nr=ir.now(),tr=setInterval(hr,1e3)),Ve=1,or(lr)))}ur.prototype=cr.prototype={constructor:ur,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?ar():+e)+(null==n?0:+n),this._next||Je===this||(Je?Je._next=this:Ze=this,Je=this),this._call=t,this._time=e,fr()},stop:function(){this._call&&(this._call=null,this._time=1/0,fr())}};const dr=4294967296;function gr(t){return t.x}function pr(t){return t.y}var yr=Math.PI*(3-Math.sqrt(5));function mr(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,u=cr(h),c=Ke("tick","end"),l=function(){let t=1;return()=>(t=(1664525*t+1013904223)%dr)/dr}();function h(){f(),c.call("tick",n),e<r&&(u.stop(),c.call("end",n))}function f(r){var u,c,l=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(e+=(o-e)*i,s.forEach((function(t){t(e)})),u=0;u<l;++u)null==(c=t[u]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return n}function d(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=10*Math.sqrt(.5+e),o=e*yr;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function g(n){return n.initialize&&n.initialize(t,l),n}return null==t&&(t=[]),d(),n={tick:f,restart:function(){return u.restart(h),n},stop:function(){return u.stop(),n},nodes:function(e){return arguments.length?(t=e,d(),s.forEach(g),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(a=1-t,n):1-a},randomSource:function(t){return arguments.length?(l=t,s.forEach(g),n):l},force:function(t,e){return arguments.length>1?(null==e?s.delete(t):s.set(t,g(e)),n):s.get(t)},find:function(n,e,r){var i,o,a,s,u,c=0,l=t.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(a=(i=n-(s=t[c]).x)*i+(o=e-s.y)*o)<r&&(u=s,r=a);return u},on:function(t,e){return arguments.length>1?(c.on(t,e),n):c.on(t)}}}function vr(t,n,e){const r=t.slice();return r[50]=n[e],r}function xr(t,n,e){const r=t.slice();return r[53]=n[e],r}function wr(t){let n,e,i,o,a,s,u,c,l,h;function f(){return t[32](t[53])}function d(){return t[33](t[53])}function y(){return t[34](t[53])}return{c(){n=v("circle"),k(n,"id",e="circle"+t[53].index),k(n,"class","node svelte-2hiao1"),k(n,"r",i=t[6](t[53])*t[5]),k(n,"fill",o=t[2]||t[12](t[53])),k(n,"stroke",a=null!=t[0]&&t[0].index==t[53].index?"#F7DA1A":t[3]),k(n,"stroke-width",s=null!=t[0]&&t[0].index==t[53].index?"3px":t[4]),k(n,"cx",u=t[53].x),k(n,"cy",c=t[53].y)},m(t,e){g(t,n,e),l||(h=[b(n,"mouseover",f),b(n,"focus",d),b(n,"mousedown",y)],l=!0)},p(r,l){t=r,2048&l[0]&&e!==(e="circle"+t[53].index)&&k(n,"id",e),2144&l[0]&&i!==(i=t[6](t[53])*t[5])&&k(n,"r",i),6148&l[0]&&o!==(o=t[2]||t[12](t[53]))&&k(n,"fill",o),2057&l[0]&&a!==(a=null!=t[0]&&t[0].index==t[53].index?"#F7DA1A":t[3])&&k(n,"stroke",a),2065&l[0]&&s!==(s=null!=t[0]&&t[0].index==t[53].index?"3px":t[4])&&k(n,"stroke-width",s),2048&l[0]&&u!==(u=t[53].x)&&k(n,"cx",u),2048&l[0]&&c!==(c=t[53].y)&&k(n,"cy",c)},d(t){t&&p(n),l=!1,r(h)}}}function $r(t){let n,e,r,i,o,a=null!=t[21](t[50].name),s=t[50].name+"",u=a&&br(t);return{c(){n=v("g"),u&&u.c(),e=v("text"),r=x(s),k(e,"id",i="label-text-"+t[20](t[50].name)),k(e,"class","no-hover label-text svelte-2hiao1"),k(e,"x",_r),k(e,"y","0.3em"),k(n,"transform",o="translate("+t[9][t[50].name].x+","+t[9][t[50].name].y+")")},m(t,i){g(t,n,i),u&&u.m(n,null),d(n,e),d(e,r)},p(t,c){2&c[0]&&(a=null!=t[21](t[50].name)),a?u?u.p(t,c):(u=br(t),u.c(),u.m(n,e)):u&&(u.d(1),u=null),2&c[0]&&s!==(s=t[50].name+"")&&M(r,s),2&c[0]&&i!==(i="label-text-"+t[20](t[50].name))&&k(e,"id",i),514&c[0]&&o!==(o="translate("+t[9][t[50].name].x+","+t[9][t[50].name].y+")")&&k(n,"transform",o)},d(t){t&&p(n),u&&u.d()}}}function br(t){let n,e,r,i,o;return{c(){n=v("rect"),k(n,"id",e="label-background-"+t[20](t[50].name)),k(n,"class","no-hover label-background svelte-2hiao1"),k(n,"x",r=-t[21](t[50].name).getBBox().width/2),k(n,"y","-0.7em"),k(n,"width",i=t[21](t[50].name).getBBox().width+2*_r),k(n,"height","1.4em"),k(n,"fill",o=null!=t[0]&&t[0].genres.includes(t[50].name)?"#F7DA1A":"#ccc")},m(t,e){g(t,n,e)},p(t,a){2&a[0]&&e!==(e="label-background-"+t[20](t[50].name))&&k(n,"id",e),2&a[0]&&r!==(r=-t[21](t[50].name).getBBox().width/2)&&k(n,"x",r),2&a[0]&&i!==(i=t[21](t[50].name).getBBox().width+2*_r)&&k(n,"width",i),3&a[0]&&o!==(o=null!=t[0]&&t[0].genres.includes(t[50].name)?"#F7DA1A":"#ccc")&&k(n,"fill",o)},d(t){t&&p(n)}}}function kr(t){let n,e=t[50].checked&&$r(t);return{c(){e&&e.c(),n=$()},m(t,r){e&&e.m(t,r),g(t,n,r)},p(t,r){t[50].checked?e?e.p(t,r):(e=$r(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},d(t){e&&e.d(t),t&&p(n)}}}function Mr(t){let n,e,r,i,o,a,s,u,c,l=t[0].artistName+"";return{c(){n=v("rect"),o=w(),a=v("text"),s=x(l),k(n,"id","selected-artist-background"),k(n,"class","no-hover svelte-2hiao1"),k(n,"x",e=t[7]-t[10]/2-_r),k(n,"y",r=t[8]-50),k(n,"width",i=t[10]+2*_r),k(n,"height","2.2em"),k(n,"fill","#F7DA1A"),k(n,"opacity","0.8"),k(a,"id","selected-artist"),k(a,"class","no-hover svelte-2hiao1"),k(a,"x",u=t[7]-t[10]/2),k(a,"y",c=t[8]-30)},m(t,e){g(t,n,e),g(t,o,e),g(t,a,e),d(a,s)},p(t,o){1152&o[0]&&e!==(e=t[7]-t[10]/2-_r)&&k(n,"x",e),256&o[0]&&r!==(r=t[8]-50)&&k(n,"y",r),1024&o[0]&&i!==(i=t[10]+2*_r)&&k(n,"width",i),1&o[0]&&l!==(l=t[0].artistName+"")&&M(s,l),1152&o[0]&&u!==(u=t[7]-t[10]/2)&&k(a,"x",u),256&o[0]&&c!==(c=t[8]-30)&&k(a,"y",c)},d(t){t&&p(n),t&&p(o),t&&p(a)}}}function Nr(n){let e,r,i,o,a=n[11],s=[];for(let t=0;t<a.length;t+=1)s[t]=wr(xr(n,a,t));let u=n[1],c=[];for(let t=0;t<u.length;t+=1)c[t]=kr(vr(n,u,t));let l=n[8]&&Mr(n);return{c(){e=v("g");for(let t=0;t<s.length;t+=1)s[t].c();r=w();for(let t=0;t<c.length;t+=1)c[t].c();i=w(),l&&l.c(),o=$(),k(e,"id","circle-group")},m(t,n){g(t,e,n);for(let t=0;t<s.length;t+=1)s[t].m(e,null);g(t,r,n);for(let e=0;e<c.length;e+=1)c[e].m(t,n);g(t,i,n),l&&l.m(t,n),g(t,o,n)},p(t,n){if(530557&n[0]){let r;for(a=t[11],r=0;r<a.length;r+=1){const i=xr(t,a,r);s[r]?s[r].p(i,n):(s[r]=wr(i),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}if(3146243&n[0]){let e;for(u=t[1],e=0;e<u.length;e+=1){const r=vr(t,u,e);c[e]?c[e].p(r,n):(c[e]=kr(r),c[e].c(),c[e].m(i.parentNode,i))}for(;e<c.length;e+=1)c[e].d(1);c.length=u.length}t[8]?l?l.p(t,n):(l=Mr(t),l.c(),l.m(o.parentNode,o)):l&&(l.d(1),l=null)},i:t,o:t,d(t){t&&p(e),y(s,t),t&&p(r),y(c,t),t&&p(i),l&&l.d(t),t&&p(o)}}}let _r=5;function Ar(t,n,e){let r,i,o,a,u,c;const{data:l,width:h,height:f,rScale:d,xScale:g,zScale:p,xGet:y,rGet:m,zGet:v}=D("LayerCake");s(t,l,(t=>e(38,u=t))),s(t,h,(t=>e(31,a=t))),s(t,f,(t=>e(30,o=t))),s(t,d,(t=>e(29,r=t))),s(t,m,(t=>e(6,i=t))),s(t,v,(t=>e(12,c=t)));let x,w,$,b,k,{manyBodyStrength:M=-1}=n,{xStrength:N=.1}=n,{nodeColor:_}=n,{nodeStroke:A="#fff"}=n,{nodeStrokeWidth:z=1}=n,{groupBy:S=!0}=n,{selectedArtist:R}=n,{genres:E}=n,T={};E.map((t=>e(9,T[t.name]={x:0,y:0},T)));let j=0,C=0,B=t=>t.reduce(((t,n)=>t+n))/t.length;const P=u.map((t=>({...t}))),q=mr(P);let I,L=[];q.on("tick",(()=>{e(11,L=q.nodes()),e(1,E),function(t){for(const n in T)$=t.filter((t=>t.genres.includes(n))),0==$.length?(b=0,k=0):(b=B($.map((t=>t.x))),k=B($.map((t=>t.y)))),e(9,T[n]={x:b,y:k},T)}(L),null!=R&&(e(7,x=R.x),e(8,w=R.y))})),console.log(P);let O,H,F=null;function W(t){e(0,R=t)}fetch("./data/links.json").then((t=>t.json())).then((t=>{e(27,F=t),console.log(F),P.forEach(((t,n)=>{t.numLinks=F.filter((t=>t.source==n||t.target==n)).length}))}));let K=t=>t.replace(/ /g,"");return t.$$set=t=>{"manyBodyStrength"in t&&e(22,M=t.manyBodyStrength),"xStrength"in t&&e(23,N=t.xStrength),"nodeColor"in t&&e(2,_=t.nodeColor),"nodeStroke"in t&&e(3,A=t.nodeStroke),"nodeStrokeWidth"in t&&e(4,z=t.nodeStrokeWidth),"groupBy"in t&&e(24,S=t.groupBy),"selectedArtist"in t&&e(0,R=t.selectedArtist),"genres"in t&&e(1,E=t.genres)},t.$$.update=()=>{67108865&t.$$.dirty[0]&&R&&e(26,I=setInterval((()=>{document.getElementById("selected-artist")&&(clearInterval(I),e(10,j=document.getElementById("selected-artist").getBBox().width))}),10)),1&t.$$.dirty[1]&&e(28,O=8/a**1),33554432&t.$$.dirty[0]|1&t.$$.dirty[1]&&(e(5,H=.4+a/2500),e(25,C++,C)),2046820448&t.$$.dirty[0]|1&t.$$.dirty[1]&&q.force("center",function(t,n){var e,r=1;function i(){var i,o,a=e.length,s=0,u=0;for(i=0;i<a;++i)s+=(o=e[i]).x,u+=o.y;for(s=(s/a-t)*r,u=(u/a-n)*r,i=0;i<a;++i)(o=e[i]).x-=s,o.y-=u}return null==t&&(t=0),null==n&&(n=0),i.initialize=function(t){e=t},i.x=function(n){return arguments.length?(t=+n,i):t},i.y=function(t){return arguments.length?(n=+t,i):n},i.strength=function(t){return arguments.length?(r=+t,i):r},i}(a/2+30,o/2+50)).force("x",function(t){var n,e,r,i=qe(.1);function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vx+=(r[o]-i.x)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=qe(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:qe(+t),a(),o):i},o.x=function(n){return arguments.length?(t="function"==typeof n?n:qe(+n),a(),o):t},o}().strength(O)).force("y",function(t){var n,e,r,i=qe(.1);function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vy+=(r[o]-i.y)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=qe(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:qe(+t),a(),o):i},o.y=function(n){return arguments.length?(t="function"==typeof n?n:qe(+n),a(),o):t},o}().strength(O)).force("charge",function(){var t,n,e,r,i,o=qe(-30),a=1,s=1/0,u=.81;function c(e){var i,o=t.length,a=je(t,gr,pr).visitAfter(h);for(r=e,i=0;i<o;++i)n=t[i],a.visit(f)}function l(){if(t){var n,e,r=t.length;for(i=new Array(r),n=0;n<r;++n)e=t[n],i[e.index]=+o(e,n,t)}}function h(t){var n,e,r,o,a,s=0,u=0;if(t.length){for(r=o=a=0;a<4;++a)(n=t[a])&&(e=Math.abs(n.value))&&(s+=n.value,u+=e,r+=e*n.x,o+=e*n.y);t.x=r/u,t.y=o/u}else{(n=t).x=n.data.x,n.y=n.data.y;do{s+=i[n.data.index]}while(n=n.next)}t.value=s}function f(t,o,c,l){if(!t.value)return!0;var h=t.x-n.x,f=t.y-n.y,d=l-o,g=h*h+f*f;if(d*d/u<g)return g<s&&(0===h&&(g+=(h=Ie(e))*h),0===f&&(g+=(f=Ie(e))*f),g<a&&(g=Math.sqrt(a*g)),n.vx+=h*t.value*r/g,n.vy+=f*t.value*r/g),!0;if(!(t.length||g>=s)){(t.data!==n||t.next)&&(0===h&&(g+=(h=Ie(e))*h),0===f&&(g+=(f=Ie(e))*f),g<a&&(g=Math.sqrt(a*g)));do{t.data!==n&&(d=i[t.data.index]*r/g,n.vx+=h*d,n.vy+=f*d)}while(t=t.next)}}return c.initialize=function(n,r){t=n,e=r,l()},c.strength=function(t){return arguments.length?(o="function"==typeof t?t:qe(+t),l(),c):o},c.distanceMin=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.distanceMax=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.theta=function(t){return arguments.length?(u=t*t,c):Math.sqrt(u)},c}().strength(-1.2)).force("link",function(t){var n,e,r,i,o,a,s=He,u=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},c=qe(30),l=1;function h(r){for(var i=0,s=t.length;i<l;++i)for(var u,c,h,f,d,g,p,y=0;y<s;++y)c=(u=t[y]).source,f=(h=u.target).x+h.vx-c.x-c.vx||Ie(a),d=h.y+h.vy-c.y-c.vy||Ie(a),f*=g=((g=Math.sqrt(f*f+d*d))-e[y])/g*r*n[y],d*=g,h.vx-=f*(p=o[y]),h.vy-=d*p,c.vx+=f*(p=1-p),c.vy+=d*p}function f(){if(r){var a,u,c=r.length,l=t.length,h=new Map(r.map(((t,n)=>[s(t,n,r),t])));for(a=0,i=new Array(c);a<l;++a)(u=t[a]).index=a,"object"!=typeof u.source&&(u.source=Fe(h,u.source)),"object"!=typeof u.target&&(u.target=Fe(h,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(a=0,o=new Array(l);a<l;++a)u=t[a],o[a]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);n=new Array(l),d(),e=new Array(l),g()}}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}function g(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+c(t[n],n,t)}return null==t&&(t=[]),h.initialize=function(t,n){r=t,a=n,f()},h.links=function(n){return arguments.length?(t=n,f(),h):t},h.id=function(t){return arguments.length?(s=t,h):s},h.iterations=function(t){return arguments.length?(l=+t,h):l},h.strength=function(t){return arguments.length?(u="function"==typeof t?t:qe(+t),d(),h):u},h.distance=function(t){return arguments.length?(c="function"==typeof t?t:qe(+t),g(),h):c},h}(F).distance((t=>i(t.source)*H+i(t.target)*H)).strength((t=>.5/Math.min(t.source.numLinks,t.target.numLinks)**1.5))).force("collision",function(t){var n,e,r,i=1,o=1;function a(){for(var t,a,u,c,l,h,f,d=n.length,g=0;g<o;++g)for(a=je(n,Le,Oe).visitAfter(s),t=0;t<d;++t)u=n[t],h=e[u.index],f=h*h,c=u.x+u.vx,l=u.y+u.vy,a.visit(p);function p(t,n,e,o,a){var s=t.data,d=t.r,g=h+d;if(!s)return n>c+g||o<c-g||e>l+g||a<l-g;if(s.index>u.index){var p=c-s.x-s.vx,y=l-s.y-s.vy,m=p*p+y*y;m<g*g&&(0===p&&(m+=(p=Ie(r))*p),0===y&&(m+=(y=Ie(r))*y),m=(g-(m=Math.sqrt(m)))/m*i,u.vx+=(p*=m)*(g=(d*=d)/(f+d)),u.vy+=(y*=m)*g,s.vx-=p*(g=1-g),s.vy-=y*g)}}}function s(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function u(){if(n){var r,i,o=n.length;for(e=new Array(o),r=0;r<o;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=qe(null==t?1:+t)),a.initialize=function(t,e){n=t,r=e,u()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(n){return arguments.length?(t="function"==typeof n?n:qe(+n),u(),a):t},a}().radius((t=>r(t.collideR)*H)).strength(1)).alpha(1).alphaDecay(1e-4).alphaTarget(.02).velocityDecay(.1).restart()},[R,E,_,A,z,H,i,x,w,T,j,L,c,l,h,f,d,m,v,W,K,t=>document.getElementById("label-text-"+K(t)),M,N,S,C,I,F,O,r,o,a,t=>W(t),t=>W(t),t=>{}]}class zr extends et{constructor(t){super(),nt(this,t,Ar,Nr,o,{manyBodyStrength:22,xStrength:23,nodeColor:2,nodeStroke:3,nodeStrokeWidth:4,groupBy:24,selectedArtist:0,genres:1},null,[-1,-1])}}function Sr(t,n,e){const r=t.slice();return r[3]=n[e],r[4]=n,r[5]=e,r}function Rr(t){let n,e,r,i,o,a,s,u=t[3].name+"";function c(){t[2].call(e,t[4],t[5])}return{c(){n=m("label"),e=m("input"),r=w(),i=x(u),o=w(),k(e,"type","checkbox"),k(e,"class","svelte-1oj3hh9"),k(n,"class","svelte-1oj3hh9"),z(n,"checked",t[3].checked)},m(u,l){g(u,n,l),d(n,e),e.checked=t[3].checked,d(n,r),d(n,i),d(n,o),a||(s=b(e,"change",c),a=!0)},p(r,o){t=r,1&o&&(e.checked=t[3].checked),1&o&&u!==(u=t[3].name+"")&&M(i,u),1&o&&z(n,"checked",t[3].checked)},d(t){t&&p(n),a=!1,s()}}}function Dr(n){let e,r,i,o=n[0],a=[];for(let t=0;t<o.length;t+=1)a[t]=Rr(Sr(n,o,t));return{c(){e=m("legend"),r=w(),i=m("fieldset");for(let t=0;t<a.length;t+=1)a[t].c();k(e,"for","checklist"),k(e,"class","svelte-1oj3hh9"),k(i,"id","checklist"),k(i,"class","svelte-1oj3hh9")},m(t,o){g(t,e,o),e.innerHTML=n[1],g(t,r,o),g(t,i,o);for(let t=0;t<a.length;t+=1)a[t].m(i,null)},p(t,[n]){if(2&n&&(e.innerHTML=t[1]),1&n){let e;for(o=t[0],e=0;e<o.length;e+=1){const r=Sr(t,o,e);a[e]?a[e].p(r,n):(a[e]=Rr(r),a[e].c(),a[e].m(i,null))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}},i:t,o:t,d(t){t&&p(e),t&&p(r),t&&p(i),y(a,t)}}}function Er(t,n,e){let{legend:r=""}=n,{entries:i}=n;return t.$$set=t=>{"legend"in t&&e(1,r=t.legend),"entries"in t&&e(0,i=t.entries)},t.$$.update=()=>{1&t.$$.dirty&&console.log(i)},[i,r,function(t,n){t[n].checked=this.checked,e(0,i)}]}class Tr extends et{constructor(t){super(),nt(this,t,Er,Dr,o,{legend:1,entries:0})}}function jr(t){let n,e,r,i;function o(n){t[7](n)}let a={};return void 0!==t[1]&&(a.entries=t[1]),e=new Tr({props:a}),T.push((()=>Z(e,"entries",o))),{c(){n=m("div"),J(e.$$.fragment),k(n,"class","absolute svelte-1afyfk7")},m(t,r){g(t,n,r),V(e,n,null),i=!0},p(t,n){const i={};!r&&2&n&&(r=!0,i.entries=t[1],I((()=>r=!1))),e.$set(i)},i(t){i||(Y(e.$$.fragment,t),i=!0)},o(t){X(e.$$.fragment,t),i=!1},d(t){t&&p(n),Q(e)}}}function Cr(t){let n,e;return n=new Se({props:{data:t[3],config:t[4],$$slots:{default:[Br]},$$scope:{ctx:t}}}),{c(){J(n.$$.fragment)},m(t,r){V(n,t,r),e=!0},p(t,e){const r={};8&e&&(r.data=t[3]),1048581&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(Y(n.$$.fragment,t),e=!0)},o(t){X(n.$$.fragment,t),e=!1},d(t){Q(n,t)}}}function Br(t){let n,e,r;function i(n){t[8](n)}let o={genres:t[0],nodeStroke:"#fff"};return void 0!==t[2]&&(o.selectedArtist=t[2]),n=new zr({props:o}),T.push((()=>Z(n,"selectedArtist",i))),{c(){J(n.$$.fragment)},m(t,e){V(n,t,e),r=!0},p(t,r){const i={};1&r&&(i.genres=t[0]),!e&&4&r&&(e=!0,i.selectedArtist=t[2],I((()=>e=!1))),n.$set(i)},i(t){r||(Y(n.$$.fragment,t),r=!0)},o(t){X(n.$$.fragment,t),r=!1},d(t){Q(n,t)}}}function Pr(t){let n,e,r,i,o,a,s,u,c,l,h,f,y,v,x,$,b,M,N,_=t[0]&&jr(t),A=t[3]&&t[0]&&Cr(t);return{c(){n=m("div"),e=m("h3"),e.textContent="My Spotify universe",r=w(),i=m("p"),i.innerHTML='From <a href="https://www.giacomomakes.art" class="svelte-1afyfk7">Giacomo Boscaini-Gilroy</a>',o=w(),a=m("h4"),a.innerHTML='My listening data for the last year, as a set of moving celestial bodies in gravitation towards an orbit.\n    <br/>The UK hip hop galaxy cycles round the margins, its constellations of <span class="highlighted-grey svelte-1afyfk7">grime</span> and <span class="highlighted-grey svelte-1afyfk7">drill</span> and <span class="highlighted-grey svelte-1afyfk7">alternative hip hop</span>.\n    <br/>The core planetary system is split between <span class="highlighted-grey svelte-1afyfk7">pop</span>-adjacent music and <span class="highlighted-grey svelte-1afyfk7">electronica</span>,\n    with <span class="highlighted-grey svelte-1afyfk7">UK contemporary R&amp;B</span> at one end,\n    flowing through Yaeji and FKA Twigs to <span class="highlighted-grey svelte-1afyfk7">hyperpop</span> and Sega Bodega,\n    connected by an asteroid belt of <span class="highlighted-grey svelte-1afyfk7">indie soul</span> and Bloc Party&#39;s <span class="highlighted-grey svelte-1afyfk7">indie rock</span>\n    to chilled Jamie XX and the solar system of <span class="highlighted-grey svelte-1afyfk7">wonky</span> beats and its moons of <span class="highlighted-grey svelte-1afyfk7">lo-fi house</span> and <span class="highlighted-grey svelte-1afyfk7">dubstep</span>.\n    <br/>If that&#39;s not how it looked to you, well, the map comes out a little different every time.\n    <br/>Musicians without genres, or with very random ones, are the distant stars gleaming round the edges.\n    <br/>Hover over an artist bubble to see <span class="highlighted-yellow svelte-1afyfk7">their name</span> (labelled genres they belong to will go <span class="highlighted-yellow svelte-1afyfk7">yellow</span> too). They are sized by song plays - I listened to Clavish 263 times.',s=w(),u=w(),c=m("div"),l=m("div"),_&&_.c(),h=w(),A&&A.c(),y=w(),v=m("h4"),v.innerHTML="On your phone, try switching to landscape so it&#39;s all a bit less packed in<br/>",x=w(),$=m("h4"),$.innerHTML='<span class="bold">Some notes on how this was created:</span> \n    <br/>I used Python to process the Spotify data, counting the number of plays per artist, removing all the ones I listened to 3 times or fewer.\n    <br/>I used the Spotify web API to search for each artist and get their genre. I searched by the artist&#39;s name, there was no ID in this dataset, which is why Dave, CRO and BOP for instance got the wrong genres.\n    <br/>I exported this data along with a list of all the pairs of artists sharing a genre.\n    <br/>Using d3-force, I was able to simulate physics, including forces that make any artists of the same genre gravitate together. That&#39;s how the bubbles know how to find each other and self-organise into clusters.',b=w(),M=m("br"),k(i,"class","bold"),k(l,"class",f="area-container "+(t[3]?"":"isLoading")+" svelte-1afyfk7"),k(c,"class","grid svelte-1afyfk7"),k(v,"class","mobile"),k(n,"class","embed-container")},m(t,f){g(t,n,f),d(n,e),d(n,r),d(n,i),d(n,o),d(n,a),d(n,s),d(n,u),d(n,c),d(c,l),_&&_.m(l,null),d(l,h),A&&A.m(l,null),d(n,y),d(n,v),d(n,x),d(n,$),d(n,b),d(n,M),N=!0},p(t,[n]){t[0]?_?(_.p(t,n),1&n&&Y(_,1)):(_=jr(t),_.c(),Y(_,1),_.m(l,h)):_&&(G(),X(_,1,1,(()=>{_=null})),U()),t[3]&&t[0]?A?(A.p(t,n),9&n&&Y(A,1)):(A=Cr(t),A.c(),Y(A,1),A.m(l,null)):A&&(G(),X(A,1,1,(()=>{A=null})),U()),(!N||8&n&&f!==(f="area-container "+(t[3]?"":"isLoading")+" svelte-1afyfk7"))&&k(l,"class",f)},i(t){N||(Y(_),Y(A),N=!0)},o(t){X(_),X(A),N=!1},d(t){t&&p(n),_&&_.d(),A&&A.d()}}}function qr(t,n,e){var r;let i;r=()=>{window.pymChild.sendHeight(),setTimeout((()=>!0),250)},R().$$.on_mount.push(r);let o,a,s,u,c=[],l={},h=["uk alternative hip hop","grime","melodic drill","indietronica","hyperpop","uk contemporary r&b","art pop","rap","wonky","drum and bass"],f=["indie soul","experimental hip hop","indie r&b","italian pop","urbano latino","lo-fi house","italian underground hip hop","uk garage","deep dubstep"],d=[{name:"Show more genres",checked:!1}],g={rKey:"count",zKey:"index",zRange:["#d88373","#83b5d1","#6a041d","#dbd8b3","#324a5f"].concat(Array(0).fill("#999")),zScale:Bt()};fetch("./data/data.csv",{mode:"cors",cache:"no-store"}).then((t=>t.text())).then((t=>{e(3,u=lt(t)),e(3,u=u.map((t=>(i=JSON.parse("'"==t.genres[1]?t.genres.replace(/'/g,'"'):t.genres),c.push(...i),{...t,genres:i,count:+t.count,collideR:+t.count,popularity:+t.popularity,numLinks:0}))));for(const t of c)l[t]=l[t]?l[t]+1:1;o=c.sort(((t,n)=>l[n]-l[t])).filter((t=>l[t]>3)).filter(((t,n,e)=>e.indexOf(t)===n)),console.log(o),e(0,a=o.map(((t,n)=>({name:t,checked:h.includes(t)}))))}));return t.$$.update=()=>{3&t.$$.dirty&&a&&a.forEach((t=>{f.includes(t.name)&&(t.checked=d[0].checked)}))},[a,d,s,u,g,undefined,t=>t!==s.artistName,function(t){d=t,e(1,d)},function(t){s=t,e(2,s)}]}return new class extends et{constructor(t){super(),nt(this,t,qr,Pr,o,{})}}({target:document.body,props:{}})}();
